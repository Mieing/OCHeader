@class NSString, MMLiveTask, MMFinderLiveTask, MMLiveFaceEncodeLogic, NSMutableArray, MMLiveStorageCleanupPinningToken, MMWeEffectManager, MMTimer;

@interface MMLiveFaceDetectLogic : NSObject <MMFinderLiveSFBarrageViewExt>

@property (nonatomic) long long maskTexRenderType;
@property (weak, nonatomic) MMLiveTask *liveTask;
@property (readonly, nonatomic) MMFinderLiveTask *finderLiveTask;
@property (nonatomic) BOOL isOpenFaceDetect;
@property (nonatomic) BOOL isStartFaceDetect;
@property (nonatomic) BOOL isPreparingStartFaceDetect;
@property (nonatomic) unsigned int maskTexture;
@property (nonatomic) struct CGSize { double width; double height; } maskTextureSize;
@property (nonatomic) BOOL needEncodeDetectResult;
@property (nonatomic) BOOL needRenderDetectResult;
@property (retain, nonatomic) MMLiveFaceEncodeLogic *faceEncodeLogic;
@property (nonatomic) double faceDetectRatio;
@property (readonly, nonatomic) MMWeEffectManager *weeffectManager;
@property (nonatomic) BOOL detectedSegmentPersion;
@property (nonatomic) BOOL isCurrNeedUseFaceDetectHandle;
@property (nonatomic) double lastFaceDetectHandleStartTime;
@property (nonatomic) double lastFaceDetectHandleEndTime;
@property (nonatomic) unsigned long long noSegmentPersionFrameCnt;
@property (readonly, nonatomic) unsigned long long noSegmentPersionFrameLimitCnt;
@property (nonatomic) long long thermalState;
@property (nonatomic) int faceDetectProcessFPS;
@property (nonatomic) int faceDetectDesireProcessFPS;
@property (nonatomic) int faceDetectLimitProcessFPS;
@property (nonatomic) long long modelDevice;
@property (nonatomic) double lastRefreshTime;
@property (retain, nonatomic) MMLiveStorageCleanupPinningToken *resourcesPinningToken;
@property (nonatomic) double lastAnalyzeTime;
@property (retain, nonatomic) NSMutableArray *recentProcessCostTimeList;
@property (retain, nonatomic) MMTimer *fpsScheduleCheckTimer;
@property (nonatomic) double lastProcessBeginTime;
@property (nonatomic) BOOL disableFaceDetect;
@property (copy, nonatomic) id /* block */ processFpsChangeCallback;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (id)baseResourceDir;
+ (id)imageFromRGBATexture:(int)a0 width:(int)a1 height:(int)a2;
+ (void)searchEveryPixelFroImage:(id)a0;

- (void)addFaceDetectProcessCostTime:(double)a0;
- (double)fpsScheduleCheckInterval;
- (void)onFPSScheduleCheck;
- (void)cleaRecentProcessCostTimes;
- (double)maxAcceptPrcessCostTime;
- (void)analyzeRecentProcessCostTimesIfNeed;
- (void)tryIncreaseLimitProcessProcess;
- (void)tryDecreaseLimitProcessProcess;
- (BOOL)checkRecentCostTimeIsWorst;
- (BOOL)isRecentCostTimeWorst;
- (double)getAverageRecentCostTime;
- (double)analyzeTimeInterval;
- (unsigned long long)minProcessPeriodFrameCnt;
- (int)minAcceptFPS;
- (int)mistakeFPSRange;
- (float)worstCostTime;
- (unsigned long long)worstCollectCnt;
- (float)worstPercent;
- (void)recordCostTime:(double)a0;
- (id)initWithLiveTask:(id)a0;
- (void)initDefaultData;
- (void)dealloc;
- (void)registerExts;
- (void)unRegisterExts;
- (void)initNotifications;
- (void)openFaceDetect;
- (void)closeFaceDetect;
- (void)notifyDataInterrupt;
- (void)notifyWeeffectRenderFrameInterrupted;
- (void)onRefreshOverTimeCheck;
- (double)limitRefreshInterval;
- (void)startFaceDetect;
- (void)stopFaceDetect;
- (void)startFPSScheduleCheckTimer;
- (void)stopFPSScheduleCheckTimer;
- (void)onScheduleCheck;
- (void)onNotifyHasBarrageDataChanged:(BOOL)a0;
- (void)onNotifyHasBarrageMovingAtTrackIndex:(unsigned long long)a0;
- (void)onFaceDetectMaterialSrcAdded;
- (void)onWeEffectRenderFrameRefreshed:(id)a0;
- (void)onWeEffectManagerDestroyed:(id)a0;
- (void)checkCurNeedUseFaceDetectToHandle;
- (void)statisticLastHandleDuration;
- (BOOL)checkWeEffectNeedBeautyHandleWithFaceTrackRet:(int)a0;
- (void)updateFaceDetectProcessCostTime:(double)a0;
- (void)updateDisableFaceDetect:(BOOL)a0 retry:(BOOL)a1;
- (void)retryEnableFaceDetectIfNeed;
- (void)startWeEffectManagerIfNeed;
- (void)stopWeEffectManagerIfNeed;
- (void)updateNoSegmentPersion:(BOOL)a0;
- (BOOL)isCurrentDetectedSegmentPersion;
- (void)checkWeEffectManagerExist;
- (void)updateThermalState:(long long)a0 forceUpdate:(BOOL)a1;
- (void)updateFaceDetectProcessFPS;
- (int)getCurrFaceDetectProcessFPS;
- (int)getCurrDesireProcessFPS;
- (int)minDesireProcessFPS;
- (id)currLiveTask;
- (void)updateDesireProcessFPS;
- (BOOL)tryAdjustLimitProcessFPS:(int)a0;
- (int)currLimitProcessFPS;
- (long long)getFaceDetectModelDevice;
- (void)onFaceDetectProcessBegin;
- (void)onFaceDetectProcessEnd;
- (BOOL)updateMaskTexture;
- (void)notifyMaskTextureRefreshWithRenderFrame:(id)a0;
- (void)notifyMaskTextureRefreshState;
- (void)initMaskTextureIfNeeded;
- (BOOL)addFaceDetectMaterialSrc;
- (id)getTemplateResourcePath;
- (id)getActualResourcePath;
- (void)updateCurrNeedUseFaceDetectHandle;
- (unsigned long long)getTrackIndexForStartFaceDetect;
- (void)onBarrageFaceDetectRenderModeChanged:(long long)a0 taskId:(id)a1;
- (void)onMatrixPerfWarning:(id)a0;
- (char *)getAlphaBufferFromRGBATexture:(int)a0 width:(int)a1 height:(int)a2;
- (char *)extractAlphaBufferFromRGBATexture:(int)a0 width:(int)a1 height:(int)a2;
- (id)transferMaskTextureToMaskImage;
- (void).cxx_destruct;

@end
