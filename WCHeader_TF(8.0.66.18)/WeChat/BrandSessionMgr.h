@class MemoryMappedKV, NSString, BrandSessionCache, NSMutableDictionary, NSData, MMBaseSessionStorage, NSMutableArray;

@interface BrandSessionMgr : MMUserService <ISessionStorageDelegate, WXGImportMessageNotification, ISessionInfoExt, MMSessionRefreshExt, PBMessageObserverDelegate, MMServiceProtocol, IMsgExt, IContactMgrExt, IMMNewSessionMgrExt, IMMNewSessionMgrFilterExt> {
    BOOL m_isUpgradeFromOldVersion;
    MMBaseSessionStorage *m_sessionStorage;
    NSMutableDictionary *m_dictCellData;
    NSData *m_oldSessionCacheData;
    NSMutableArray *m_dicMsgListArray;
    NSMutableArray *m_setUsrNameArray;
}

@property (retain, nonatomic) BrandSessionCache *m_sessionCache;
@property (retain, nonatomic) MemoryMappedKV *mappedKV;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

- (unsigned int)getNewArrivalCount;
- (BOOL)hasNewArrival;
- (void)clearNewArrivalCount;
- (void)clearReadCountForBrand:(id)a0;
- (void)clearReadCountForBrandSet:(id)a0;
- (void)deleteSessionOfUserName:(id)a0 withDeleteContact:(BOOL)a1 withDeleteMsg:(BOOL)a2;
- (void)deleteSessionOfSession:(id)a0 withDeleteContact:(BOOL)a1 withDeleteMsg:(BOOL)a2;
- (void)deleteAllSessions;
- (void)innerNotifyDeletedAllSession;
- (void)updateSessionOfUser:(id)a0;
- (unsigned int)innerUpdateSessionForUser:(id)a0;
- (void)updateSession;
- (unsigned int)updateOrAddSessionForUser:(id)a0 AllowAdd:(BOOL)a1;
- (void)recordLastBrandMsgSvrIDWhenEnterBrandSessionHolder;
- (void)recordLastBrandMsgSvrIDWhenExitSessionWithBrand:(id)a0;
- (void)onDeleteContact:(id)a0;
- (void)onModifyContact:(id)a0;
- (void)onContactListUpdate:(unsigned int)a0;
- (void)onGetDraft:(id)a0 contact:(id)a1;
- (void)onModifyDraft:(id)a0 contact:(id)a1 draftTime:(unsigned int)a2;
- (void)OnUnReadCountChange:(id)a0;
- (void)OnAddMsgListForSession:(id)a0 NotifyUsrName:(id)a1;
- (void)p_onAddMsgListArray:(id)a0 notifyUserNameArray:(id)a1;
- (void)OnDelMsg:(id)a0;
- (void)OnModMsg:(id)a0 MsgWrap:(id)a1;
- (BOOL)isSessionCacheValid;
- (id)pathForSessionCache;
- (void)saveSessionCache;
- (void)tryLoadSessionCache;
- (void)rebuildSessionCacheFromDB;
- (id)lastMessageFromSessionCache;
- (void)updateSessionCacheWithMsgWrap:(id)a0 hasNewArrival:(BOOL)a1;
- (void)updateSessionCacheOnReadCountChangeWithMsgWrap:(id)a0;
- (void)clearSessionCacheNewArrival;
- (void)clearSessionCacheNewArrivalWhenPopBrandName:(id)a0;
- (void)tryInvalidateSessionCacheForUser:(id)a0;
- (BOOL)isUserShouldHandled:(id)a0;
- (BOOL)isMessageShouldHandled:(id)a0;
- (id)isUserHasSpecalSessionInfo:(id)a0;
- (void)onDeleteSessionOfUser:(id)a0;
- (void)onSessionUpgrade;
- (void)onRebuildSessionStorage;
- (void)rebuildSessionStorage;
- (void)onImportMessageSuccess;
- (void)refreshServiceTriggerToRefresh:(id)a0;
- (id)init;
- (void)dealloc;
- (void)onServiceMemoryWarning;
- (BOOL)isContactNeedProcess:(id)a0;
- (void)addBrandSessionHolderToSessionList;
- (id)genMainFrameSessionInfo;
- (id)sessionCellDataAtIndex:(long long)a0;
- (void)updateSessionCellData:(id)a0;
- (unsigned int)sessionCount;
- (id)sessionInfoWithUsrName:(id)a0;
- (id)sessionInfoAtIndex:(long long)a0;
- (id)getAllUserNamesOnSessionStorgae;
- (id)getLastUserNameOnSessionStorage;
- (id)importSessions;
- (void)cleanUpNoMsgSessions:(id)a0;
- (void)deleteOldVersionSessionCache;
- (id)pathForNewCache;
- (long long)compareSession:(id)a0 rightSession:(id)a1;
- (void)topSessionOfUser:(id)a0;
- (void)untopSessionOfUser:(id)a0;
- (void)addSession:(id)a0;
- (unsigned int)genSendMsgTime;
- (void)getOrUpdateStrategy;
- (id)getMenuEntryListInfo;
- (void)MessageReturn:(id)a0 Event:(unsigned int)a1;
- (void)handleStrategyResp:(id)a0;
- (void).cxx_destruct;

@end
