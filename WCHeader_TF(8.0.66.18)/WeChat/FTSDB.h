@class FTS5MigrateRecord, NSRecursiveLock, NSMutableDictionary, WCTDatabase, WCTTable, NSDictionary;

@interface FTSDB : NSObject {
    WCTDatabase *m_db;
    BOOL m_hasStartMigrateMsgToFTS5;
    WCTTable *m_migrateRecordTable;
    FTS5MigrateRecord *m_migrateRecord;
    NSRecursiveLock *m_lock;
    NSMutableDictionary *m_dicInvalidUserNameId;
    NSMutableDictionary *m_dicValidUserName;
    NSMutableDictionary *m_dicValidUserNameId;
    WCTTable *m_contactSearchItemTable;
    WCTTable *m_contactPinyinSearchItemTable;
    NSDictionary *m_dicTableMessage;
    WCTTable *m_tableMsgUserNameID;
    WCTTable *m_tableDeleteRecord;
    WCTTable *m_fts5RowidIndexTable;
    WCTTable *m_FavFTS5SearchItemTable;
    WCTTable *m_FavFTS5RowIdIndexTable;
    WCTTable *m_FavFTS5TagTable;
    NSMutableDictionary *m_dicInvalidIntelligentUserNameId;
    NSMutableDictionary *m_dicValidIntelligentUserName;
    NSMutableDictionary *m_dicValidIntelligentUserNameId;
    WCTTable *m_weshopExtItemTable;
    WCTTable *m_weshopRowidIndexItemTable;
    WCTTable *m_weshopSearchItemTable;
    WCTTable *m_weshopPinyinSearchItemTable;
}

@property (retain, nonatomic) WCTTable *m_tableIntelligentMsgUserNameID;
@property (retain, nonatomic) WCTTable *m_tableIntelligentMsg;
@property (retain, nonatomic) WCTTable *m_fts5RowidIndexIntelligentMsgTable;
@property (retain, nonatomic) WCTTable *m_fts5RowidIndexClassificationIntelligentMsgTable;
@property (retain, nonatomic) WCTTable *m_tableIntelligentFaceCluster;
@property (retain, nonatomic) WCTTable *m_tableIntelligentFaceClusterMessage;
@property (retain, nonatomic) WCTTable *m_tableIntelligentSecureRank;

- (BOOL)createWeShopTables;
- (BOOL)clearWeShopTables;
- (BOOL)existWeShopTables;
- (long long)getWeShopLastSyncUpdateSeq;
- (BOOL)insertOrUpdateWeShopLastSyncUpdateSeq:(long long)a0;
- (BOOL)modifyRowsTransactionInWeShopTablesWithInsertOrUpdateItems:(id)a0 deleteItems:(id)a1 syncUpdateSeq:(long long)a2;
- (BOOL)insertOrUpdateRowsInWeShopTablesWithItems:(id)a0 handle:(id)a1;
- (BOOL)deleteRowsInWeShopTablesWithItems:(id)a0;
- (id)queryTextInWeShopTables:(id)a0 limit:(unsigned long long)a1 cancelBlock:(id /* block */)a2;
- (id)queryTextInWeShopOriginTable:(id)a0 limit:(unsigned long long)a1 cancelBlock:(id /* block */)a2;
- (id)queryTextInWeShopPinyinTable:(id)a0 limit:(unsigned long long)a1 cancelBlock:(id /* block */)a2;
- (BOOL)dropWeShopTable:(id)a0;
- (id)rowidIndexItemInWeShopTablesWithLocalId:(long long)a0;
- (id)searchItemInWeShopTablesWithRowid:(long long)a0;
- (id)pinyinSearchItemInWeShopTablesWithRowid:(long long)a0;
- (BOOL)containsRowidIndexItemInWeShopTablesWithLocalId:(long long)a0;
- (BOOL)containsSearchItemInWeShopTablesWithRowid:(long long)a0;
- (BOOL)containsPinyinSearchItemInWeShopTablesWithRowid:(long long)a0;
- (id)getValidLocalItemsFromRowids:(id)a0 limit:(unsigned long long)a1 cancelBlock:(id /* block */)a2;
- (BOOL)insertOrUpdateRowInWeShopTablesWithItem:(id)a0 handle:(id)a1;
- (BOOL)insertSearchItemInWeShopTablesWithShopName:(id)a0;
- (BOOL)insertPinyinSearchItemInWeShopTablesWithShopName:(id)a0;
- (BOOL)insertRowidIndexItemInWeShopTablesWithLocalId:(long long)a0 searchItemRowid:(long long)a1 pinyinSearchItemRowid:(long long)a2 updateTime:(long long)a3;
- (BOOL)updateRowidIndexItemInWeShopTablesWithLocalId:(long long)a0 updateTime:(long long)a1;
- (BOOL)updateSearchItemInWeShopTablesWithRowid:(long long)a0 shopName:(id)a1;
- (BOOL)updatePinyinSearchItemInWeShopTablesWithRowid:(long long)a0 shopName:(id)a1;
- (BOOL)deleteRowInWeShopTablesWithItem:(id)a0;
- (BOOL)deleteSearchItemInWeShopTablesWithRowid:(long long)a0;
- (BOOL)deletePinyinSearchItemInWeShopTablesWithRowid:(long long)a0;
- (BOOL)deleteRowidIndexItemInWeShopTablesWithLocalId:(long long)a0;
- (id)mergeQueryResultsInWeShopTablesWithOriginResultItems:(id)a0 pinyinResultItems:(id)a1;
- (BOOL)CreateMessageTable;
- (BOOL)DropMessageTable;
- (void)preloadCacheUser;
- (id)getValidIndexItemByUserName:(id)a0;
- (id)getValidIndexItemByUserNameId:(unsigned int)a0;
- (id)getUserNameIdWithLimit:(unsigned int)a0 where:(const void *)a1;
- (BOOL)hasInvalidRowsInChatTable;
- (id)getOneInvalidateIndexItem;
- (BOOL)insertNewRowInUserNameIDTable:(id)a0 lastLocalId:(unsigned int)a1;
- (BOOL)updateUserNameInvalid:(id)a0;
- (BOOL)updateUserNextCursorMesId:(unsigned int)a0 cursorMesId:(unsigned int)a1 withHandle:(id)a2;
- (BOOL)updateUserPreCursorMesId:(unsigned int)a0 cursorMesId:(unsigned int)a1 withHandle:(id)a2;
- (BOOL)deleteInvalidRowInUserNameIDTable:(unsigned int)a0;
- (BOOL)createUserNameIdTable;
- (unsigned int)getRandomFTS5TableId;
- (BOOL)batchInsertMsgToFTSTable:(id)a0 forbidLog:(BOOL)a1;
- (BOOL)insertFTS5MsgContentItem:(id)a0 intoTable:(unsigned int)a1 withUserNameIdItem:(id)a2 withHandle:(id)a3;
- (BOOL)deleteInvalidRowsInChatTable:(id)a0 limit:(int)a1 cancelBlock:(id /* block */)a2;
- (BOOL)migrateToFTS5WithLimit:(int)a0 isFinish:(BOOL *)a1 cancelBlock:(id /* block */)a2;
- (void)clearUserNameIdCacheOfTable:(int)a0;
- (id)queryText:(id)a0 limitUsrname:(id)a1 cancelBlock:(id /* block */)a2;
- (id)internalQuery:(id)a0 inTableId:(int)a1 limitUsrId:(id)a2 minRowId:(id)a3 cancelBlock:(id /* block */)a4;
- (id)processInternalQueryResult:(id)a0;
- (id)qualifyQuery:(id)a0 isFTS5:(BOOL)a1;
- (BOOL)createAllMsgTable;
- (id)fts3MsgTableNameWithIndex:(unsigned int)a0;
- (id)fts5MsgTableNameWithIndex:(unsigned int)a0;
- (id)msgTableWithIndex:(unsigned int)a0;
- (BOOL)createTableForFts5;
- (unsigned int)getFTSSessionCount;
- (unsigned int)getMsgIndexCount;
- (unsigned int)getIndexCountInChatTable:(id)a0;
- (unsigned int)getIndexTableIdForSession:(id)a0 msgLocalId:(unsigned int)a1 content:(id *)a2;
- (unsigned long long)calculateAllInvalidMsg;
- (BOOL)createDeleteRecordTable;
- (BOOL)updateToDeleteLocalIds:(id)a0 inChatTable:(id)a1;
- (BOOL)deleteFts5MsgContent:(id)a0 withHandle:(id)a1;
- (BOOL)removeDeleteRecordForUsrId:(unsigned int)a0;
- (BOOL)deleteMsgsFromRecordLimit:(unsigned int)a0 finish:(BOOL *)a1 operateCnt:(unsigned int *)a2 cancelBlock:(id /* block */)a3;
- (BOOL)CreateIntelligentMessageTable;
- (BOOL)ClearAllIntelligentMessageTable;
- (void)preloadIntelligentCacheUser;
- (id)queryIntelligentClassificationWithLimitUsrname:(id)a0 arrClassificationLabelId:(id)a1;
- (id)queryIntelligentClassification:(unsigned int)a0 arrClassificationLabelId:(id)a1;
- (id)getValidIntelligentIndexItemByUserName:(id)a0;
- (id)getValidIntelligentIndexItemByUserNameId:(unsigned int)a0;
- (BOOL)hasInvalidIntelligentRowsInChatTable;
- (id)getOneInvalidateIntelligentIndexItem;
- (BOOL)insertNewRowInIntelligentUserNameIDTable:(id)a0 lastLocalId:(unsigned int)a1;
- (BOOL)updateIntelligentUserNameInvalid:(id)a0;
- (BOOL)updateIntelligentUserNextCursorMesId:(unsigned int)a0 cursorMesId:(unsigned int)a1 withHandle:(id)a2;
- (BOOL)updateIntelligentUserPreCursorMesId:(unsigned int)a0 cursorMesId:(unsigned int)a1 withHandle:(id)a2;
- (BOOL)updateIntelligentRowidIndexItem:(unsigned int)a0 msgLocalId:(unsigned int)a1 validFlag:(BOOL)a2 hasDownLoadFlag:(BOOL)a3 withHandle:(id)a4;
- (BOOL)updateIntelligentRowidIndexItem:(unsigned int)a0 msgLocalId:(unsigned int)a1 validFlag:(BOOL)a2 hasDownLoadFlag:(BOOL)a3 withHandle:(id)a4 ocrTime:(unsigned int)a5 classificationTime:(unsigned int)a6 faceClusterTime:(unsigned int)a7;
- (BOOL)deleteInvalidIntelligentRowInUserNameIDTable:(unsigned int)a0;
- (BOOL)batchInsertIntelligentMsgToFTSTable:(id)a0;
- (id)getIntelligentClassificationLabels:(id)a0;
- (BOOL)batchInsertIntelligentHadDownloadInValidMsgToFTSTable:(id)a0 rowidIndexResult:(id)a1;
- (BOOL)batchInsertIntelligentHadDownloadInValidMsgToFTSTableWithlimitUsrname:(id)a0 limit:(int)a1 rowidIndexResult:(id)a2;
- (BOOL)batchInsertIntelligentHadDownloadInValidMsgToFTSTable:(id)a0 limitUsrname:(id)a1 limit:(int)a2 rowidIndexResult:(id)a3;
- (id)getInsertIntelligentHadDownloadInValidMsgToFTSTableWithLimitUsrname:(id)a0 limit:(int)a1;
- (unsigned int)getInsertIntelligentHadDownloadInValidMsgCount:(id)a0;
- (BOOL)insertFTS5IntelligentMsgItem:(id)a0 withHandle:(id)a1;
- (BOOL)insertFTS5IntelligentMsgItemAndIndex:(id)a0 withUserNameIdItem:(id)a1 withHandle:(id)a2 validFlag:(BOOL)a3;
- (BOOL)insertFTS5IntelligentMsgItemAndIndex:(id)a0 withUserNameIdItem:(id)a1 withHandle:(id)a2 validFlag:(BOOL)a3 ocrTime:(unsigned int)a4 classificationTime:(unsigned int)a5 faceClusterTime:(unsigned int)a6;
- (BOOL)insertFTS5IntelligentMsgRowidIndexClassificationItem:(unsigned int)a0 msgLocalId:(unsigned int)a1 arrClassificationLabelId:(id)a2 faceClusterFlag:(BOOL)a3 withHandle:(id)a4;
- (BOOL)insertFTS5IntelligentFaceClusterMessageItem:(id)a0 withHandle:(id)a1;
- (BOOL)deleteInvalidIntelligentRowsInChatTable:(id)a0 limit:(int)a1 cancelBlock:(id /* block */)a2;
- (id)queryIntelligentWithText:(id)a0 limitUsrname:(id)a1 searchType:(unsigned int)a2 cancelBlock:(id /* block */)a3;
- (id)internalQueryIntelligent:(id)a0 limitUsrId:(id)a1 searchType:(unsigned int)a2 cancelBlock:(id /* block */)a3;
- (id)processInternalQueryIntelligentResult:(id)a0;
- (id)qualifyQuery:(id)a0;
- (unsigned int)getHadBuildIntelligentMsgCount:(id)a0;
- (id)GetFirstIntelligentMsgIndexItem:(id)a0;
- (id)queryIntelligentMsg:(id)a0 msgLocalId:(unsigned int)a1;
- (id)queryIntelligentMsgWithSimilarWord:(id)a0 arrClassificationLabelId:(id)a1;
- (BOOL)checkIntelligentMsgNameIdIllegal:(id)a0;
- (BOOL)checkIntelligentMsgHadInsert:(unsigned int)a0 msgLocalId:(unsigned int)a1;
- (id)getReportIntelligentMsgEveryDay;
- (id)parseReportEveryDay:(id)a0;
- (BOOL)createIntelligentMsgTable;
- (BOOL)createIntelligentTableForFts5;
- (BOOL)createIntelligentMediaTable;
- (BOOL)createIntelligentUserNameIdTable;
- (unsigned int)getFTSIntelligentSessionCount;
- (unsigned int)getFTSIntelligentIndexCount;
- (unsigned int)getIntelligentIndexCountInChatTable:(id)a0;
- (BOOL)updateToDeleteIntelligentLocalIds:(id)a0 inChatTable:(id)a1;
- (BOOL)deleteFts5IntelligentMsgContent:(id)a0 withHandle:(id)a1;
- (BOOL)updateFts5IntelligentMsgContentHasDownLoadFlagWithUserName:(id)a0 msgLocalId:(unsigned int)a1;
- (id)insertOrReplaceFaceClusterItem:(id)a0 withHandle:(id)a1;
- (BOOL)updateFaceClusterItemFaceFeatureWithId:(unsigned int)a0 arrFaceFeature:(id)a1;
- (id)getAllFaceClusterList;
- (id)queryIntelligentFaceClusterWithLimitUsrname:(id)a0 arrMsgItem:(id)a1 searchQuery:(id)a2;
- (id)queryIntelligentFaceClusterMsgLocalIdListWithLimitUsrname:(id)a0 faceLabelId:(unsigned int)a1;
- (long long)getLastIntelligentFaceClusterFaceLabelId;
- (id)getIntelligentFaceClusterWithFaceLabelId:(long long)a0;
- (BOOL)repairFaceClusterLabelId:(unsigned int)a0 arrRepeatFaceClusterLabelId:(id)a1;
- (BOOL)completionUpdateL2NormFaceClusterWithFaceClusterLabelId:(unsigned int)a0 arrL2NormFaceFeature:(id)a1;
- (void)insertSecureRank:(id)a0;
- (BOOL)checkQueryIsSecureRank:(id)a0;
- (BOOL)createFavFTS5Table;
- (BOOL)existFavFTS5Table;
- (BOOL)clearFavFTS5Table;
- (BOOL)clearFavFTS3Table;
- (unsigned int)getMaxFavFts5UpdateSeq;
- (unsigned int)getMaxUnsyncLocalId;
- (BOOL)insertOrUpdateRowsInFavFTS5Table:(id)a0 updateCount:(unsigned int *)a1;
- (BOOL)insertIndexOfFavItem:(id)a0 withHandle:(id)a1;
- (BOOL)updateIndexOfFavItem:(id)a0 withRowid:(long long)a1 withHandle:(id)a2;
- (BOOL)deleteRowsInFavFTS5Table:(id)a0;
- (const void *)selectRowidStatement;
- (BOOL)haveFTS5Index:(id)a0;
- (BOOL)updateOldFavTag:(id)a0 toNewFavTag:(id)a1;
- (BOOL)updateTagIndexFor:(id)a0;
- (id)getAllFavTag;
- (id)getTagsMatch:(id)a0;
- (id)getFavItemLocalIdByTag:(id)a0;
- (unsigned int)getAllFavFTS5ObjectsCount;
- (BOOL)updateLocalId:(unsigned int)a0 toTags:(id)a1 withHandle:(id)a2;
- (BOOL)deleteLocald:(unsigned int)a0 fromTags:(id)a1 withHandle:(id)a2;
- (const void *)updateFavTagLocalIdStatement;
- (BOOL)getTagMatch:(id)a0 isPrecise:(BOOL)a1 withHandle:(id)a2 toResult:(id)a3;
- (BOOL)getTagsWithLocalId:(unsigned int)a0 withHandle:(id)a1 toResult:(id)a2;
- (id)getLocalIdStringWithSet:(id)a0;
- (id)getLocalIdSetWithString:(id)a0;
- (id)queryTextInFavFTS5Table:(id)a0 byType:(long long)a1 tags:(id)a2 cancelBlock:(id /* block */)a3;
- (id)internalQueryText:(id)a0 cancelBlock:(id /* block */)a1;
- (id)internalFilterType:(long long)a0 cancelBlock:(id /* block */)a1;
- (id)internalQueryTags:(id)a0 cancelBlock:(id /* block */)a1;
- (id)getInternalQuaryResultFromLocalIds:(id)a0 withHandle:(id)a1 cancelBlock:(id /* block */)a2;
- (BOOL)createContactFTSTable;
- (BOOL)dropAllIndex;
- (unsigned int)getIndexCount;
- (BOOL)existValidIndexOfContact:(id)a0;
- (BOOL)existIndex;
- (BOOL)insertOrUpdateIndexForContacts:(id)a0 updateCount:(unsigned int *)a1 indexRecord:(id)a2;
- (BOOL)insertIndex:(id)a0 withHandle:(id)a1 indexRecord:(id)a2;
- (BOOL)updateIndex:(id)a0 withRowid:(long long)a1 handle:(id)a2 indexRecord:(id)a3 oldGroupMember:(id)a4;
- (unsigned long long)getContactType:(id)a0;
- (id)getIndexRecord:(id)a0 forContact:(id)a1;
- (BOOL)deleteIndexForContacts:(id)a0 indexRecord:(id)a1;
- (BOOL)deleteIndexForUsername:(id)a0 indexRecord:(id)a1;
- (id)getRowidAndGroupMemberForUserName:(id)a0 withHandle:(id)a1;
- (id)getRowidAndAssociateGroupForUserName:(id)a0 withHandle:(id)a1;
- (id)getGroupWithMember:(id)a0 withHandle:(id)a1;
- (BOOL)updateGroupMemberRelation:(id)a0 curMembers:(id)a1 oldMembers:(id)a2 withIndexRecord:(id)a3 andHandle:(id)a4;
- (BOOL)updateGroup:(id)a0 toMembers:(id)a1 isAdd:(BOOL)a2 withIndexRecord:(id)a3 andHandle:(id)a4;
- (BOOL)updateAssociateGroups:(id)a0 toRowId:(long long)a1 withHandle:(id)a2;
- (id)searchContact:(id)a0 contactType:(int)a1 withHelper:(id)a2 andCancelBlock:(id /* block */)a3;
- (id)mergeResultPartOne:(id)a0 andPartTwo:(id)a1;
- (id)searchMainContent:(id)a0 withHelper:(id)a1;
- (id)searchPinyin:(id)a0 withHelper:(id)a1;
- (BOOL)genMatchTipFrom:(id)a0 To:(id)a1 withParameter:(id)a2 helperItem:(id)a3 inValidContacts:(id)a4 isPinyin:(BOOL)a5;
- (id)genCombinedQuery:(id)a0;
- (id)genMatchInfo:(id)a0 query:(id)a1 username:(id)a2 helpItem:(id)a3;
- (id)getMatchTypeConfig:(unsigned long long)a0;
- (id)searchTag:(id)a0 withHelper:(id)a1;
- (id)searchZone:(id)a0 withHelper:(id)a1;
- (id)searchGroupWithMultiKeyword:(id)a0 withHelper:(id)a1 andCancelBlock:(id /* block */)a2;
- (id)init;
- (void)dealloc;
- (BOOL)initDB;
- (id)getOrCreateTable:(id)a0 withClass:(Class)a1 isVirtual:(BOOL)a2;
- (id)prepareOrResetStatementFrom:(id)a0 withStatement:(const void *)a1;
- (unsigned int)getPageCount;
- (unsigned int)getFreeListCount;
- (long long)getFileSize;
- (void)closeDB;
- (void)closeDBBeforeInit;
- (void).cxx_destruct;

@end
