@class NSMutableDictionary, JSVirtualMachine, NSObject, NSURLSession, NSMutableArray, MPPageFastLoadEventMgr, NSString, MemoryMappedKV, MPPageResourceDownloader, MPPageFastLoadCacheCleaner, NSOperationQueue, MPPageTemplateInfoContainer, MMWebOptimVideoCacheTask, NSCache;
@protocol OS_dispatch_queue;

@interface MPPageFastLoadMgr : MMUserService <MMLimitedModeExt, PBMessageObserverDelegate, MMServiceProtocol> {
    NSMutableArray *_downloadingInfoList;
    MPPageTemplateInfoContainer *_templateInfoContainer;
    unsigned int _lastCheckTemplateVersionTime;
    MPPageResourceDownloader *_templateDownloader;
    BOOL _needCachePageFrameContent;
    NSMutableDictionary *_pageFrameKey2PageFrameContent;
    BOOL _isBatchReporting;
}

@property (retain, nonatomic) NSMutableDictionary *preloadWebViewDic;
@property (retain, nonatomic) NSOperationQueue *preloadImageCacheWorkQueue;
@property (retain, nonatomic) NSURLSession *preloadImageSession;
@property (retain, nonatomic) NSMutableArray *pendingPreloadImageTasks;
@property (retain, nonatomic) NSMutableDictionary *runningPreloadImageTasks;
@property (retain, nonatomic) NSCache *imageMemoryCache;
@property (retain, nonatomic) NSURLSession *imageDownloadUrlSession;
@property (retain, nonatomic) NSMutableArray *imageWaitingQueue;
@property (retain, nonatomic) NSMutableDictionary *imageDownloadingTask;
@property (retain, nonatomic) NSOperationQueue *offlineCacheWorkQueue;
@property (nonatomic) unsigned long long videoPreloadSwitchWithScene;
@property (nonatomic) BOOL videoPreloadSwitch;
@property (retain, nonatomic) MMWebOptimVideoCacheTask *videoPrefetchTask;
@property (retain, nonatomic) JSVirtualMachine *jsVirtualMachine;
@property (retain, nonatomic) NSMutableDictionary *pageDataCacheItemDic;
@property (retain, nonatomic) NSMutableArray *unfilteredPageDataWaitQueue;
@property (retain, nonatomic) NSMutableArray *pageDataWaitQueue;
@property (retain, nonatomic) NSMutableDictionary *pageDataRequestDic;
@property (retain, nonatomic) MemoryMappedKV *mmkv;
@property (nonatomic) BOOL isInDispatchDelay;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *workQueue;
@property (retain, nonatomic) MPPageFastLoadEventMgr *eventMgr;
@property (nonatomic) BOOL enableFastLoadOnLimitedMode;
@property (retain, nonatomic) MPPageFastLoadCacheCleaner *cacheCleaner;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (id)preloadIdentifierForImageUrl:(id)a0;
+ (BOOL)isMatchDeveloperTemplateWithFileName:(id)a0;
+ (BOOL)applyToDeveloperTemplateWithFilePath:(id)a0 fileName:(id)a1;
+ (unsigned int)expiredDays;
+ (void)clearDeveloperTemplate;
+ (BOOL)hasValidDevTemplateWithType:(unsigned int)a0;
+ (id)pathForValidDevTemplateWithType:(unsigned int)a0;
+ (BOOL)hasExistDevTemplateWithType:(unsigned int)a0;
+ (id)readableApplyTime;
+ (id)appliedDevTemplateFileName;
+ (unsigned long long)useFlagForIsPreCreateWebView:(BOOL)a0 isSyncGetPageData:(BOOL)a1;
+ (BOOL)isSupportedFastload:(BOOL)a0 itemShowType:(unsigned int)a1 url:(id)a2;
+ (BOOL)isSupportedFastload:(BOOL)a0 itemShowType:(unsigned int)a1 url:(id)a2 andGetTemplateType:(unsigned int *)a3;
+ (BOOL)isKnownItemShowType:(unsigned int)a0;
+ (unsigned int)templateTypeFromShowType:(unsigned int)a0;
+ (id)webViewChildModePresetUI;
+ (BOOL)isUseWebviewChildModePresetUIWithTemplateType:(unsigned int)a0 enterType:(unsigned int)a1 isPreload:(BOOL)a2;
+ (BOOL)canUseMPFastLoadWithUrl:(id)a0 fastLoadParam:(id)a1;
+ (id)overrideSceneIfNeedForURL:(id)a0 scene:(unsigned int)a1;

- (void)onServiceInitWithCategoryTemplateDownload;
- (unsigned int)templateReportIdWithType:(unsigned int)a0;
- (id)localFullVersionListWithType:(unsigned int)a0;
- (id)localLatestDownloadedFullVersionWithType:(unsigned int)a0;
- (id)fullVersion2FilePathMapWithTemplateType:(unsigned int)a0;
- (void)updateTemplateFromServerWityTypeList:(id)a0 enterType:(unsigned int)a1 scene:(unsigned int)a2;
- (void)forceUpdateTemplateFromServerWityType:(unsigned int)a0;
- (id)pageFrameContentWithType:(unsigned int)a0 version:(unsigned int)a1 fullVersion:(id)a2;
- (void)setupTemplateInfo;
- (id)keyForCachePageFrameWithType:(unsigned int)a0 version:(unsigned int)a1 fullVersion:(id)a2;
- (id)pathOfTemplateInfo;
- (void)loadTemplateInfo;
- (void)saveTemplateInfo;
- (void)clearInvalidTemplateDownloadedRecord;
- (unsigned int)minValidTemplateVersionWithType:(unsigned int)a0;
- (id)latestTemplateFullVersionWithType:(unsigned int)a0;
- (unsigned int)tempalteVersionForInitWebViewWithType:(unsigned int)a0 andGetFullVersion:(id *)a1 andGetVersionGroup:(id *)a2;
- (id)templateTypeToVersionDictionary;
- (id)templateTypeToVersionGroupDictionary;
- (id)templateTypeToFullVersionDictionary;
- (id)templateInfoWithTemplateType:(unsigned int)a0;
- (id)typeInfoListForWityTypeList:(id)a0;
- (unsigned long long)isUseZipForTemplageType:(int)a0;
- (void)requestCheckTemplateVersionWityTypeList:(id)a0 scene:(unsigned int)a1;
- (void)onResponseCheckTemplateVersion:(id)a0 request:(id)a1;
- (BOOL)isCheckTemplateVersionResponseOK:(id)a0;
- (void)saveTemplateInfoIfNeed:(id)a0;
- (id)getAndRemoveInvalidFullVersions:(id)a0 templateInfo:(id)a1;
- (id)httpHeaderWithType:(unsigned int)a0 templateVersion:(unsigned int)a1;
- (unsigned int)templateCheckInterval;
- (BOOL)isResponseTemplateInfoValid:(id)a0;
- (id)pathOfTemplateStoreDir;
- (id)p_pathOfTemplateDevDir;
- (id)pathOfTemplateDirWithType:(unsigned int)a0;
- (id)pathOfTemplateFileWithType:(unsigned int)a0 version:(unsigned int)a1 fullVersion:(id)a2;
- (BOOL)isTemplateFileValidWithType:(unsigned int)a0 version:(unsigned int)a1 fullVersion:(id)a2;
- (void)clearInvalidTemplateDonwloadedFile;
- (id)dirPathOfTemplateDownload;
- (void)setupTemplateDownloader;
- (void)requestTemplateFileWithTemplateInfo:(id)a0 version:(unsigned int)a1 fullVersion:(id)a2 url:(id)a3 md5:(id)a4 header:(id)a5 versionGroup:(id)a6 scene:(unsigned int)a7 fullVersion2FilePathMap:(id)a8;
- (void)onResponseTemplateFileWithParam:(id)a0 downloadingInfo:(id)a1;
- (unsigned long long)convertDownloaderErrorCode2ReportKey:(unsigned long long)a0;
- (void)reportTemplateDownloadWithParam:(id)a0 downloadingInfo:(id)a1 isSuccess:(BOOL)a2;
- (id)downloadingInfoWithType:(unsigned int)a0 fullVersion:(id)a1;
- (id)downloadingInfoList;
- (id)p_fullVersion2FilePathMapWithTemplateType:(unsigned int)a0;
- (void)p_requestTemplateFileWithTemplateInfo:(id)a0 version:(unsigned int)a1 fullVersion:(id)a2 url:(id)a3 md5:(id)a4 header:(id)a5 versionGroup:(id)a6 scene:(unsigned int)a7 fullVersion2FilePathMap:(id)a8;
- (void)markNeedCachePageFrameContent:(BOOL)a0;
- (void)clearCachedPageFrames;
- (void)onServiceInitWithCategoryTask;
- (void)lauchVideoPrefetchTaskWithUrl:(id)a0 itemShowType:(unsigned int)a1 scene:(unsigned int)a2;
- (id)getMediaWrapIdentiferWithUrl:(id)a0;
- (BOOL)getVideoUrlFromMpUrl:(id)a0 handler:(id /* block */)a1;
- (id)getVideoPrefetchTask;
- (BOOL)checkVideoPreloadSwitch;
- (BOOL)checkVideoPreloadSwitchWithScene:(unsigned int)a0;
- (BOOL)checkVideoPreloadSwitchWithMPEnterType:(unsigned int)a0;
- (unsigned int)transMPEnterTypeToVideoPreloadScene:(unsigned int)a0;
- (unsigned int)transVideoPreloadSceneToMPDefaultScene:(unsigned int)a0;
- (void)reportPreCreateWebViewWithEnterType:(unsigned int)a0 reportId:(unsigned int)a1;
- (void)reportUpdateTemplateWithEnterType:(unsigned int)a0;
- (void)reportLoadPageWithUrl:(id)a0 a8keyScene:(unsigned int)a1;
- (void)tryBatchReportItemsWithEnterType:(unsigned int)a0;
- (BOOL)batchReportItemList:(id)a0;
- (BOOL)requestReportItemWithContext:(id)a0;
- (void)onResponseAppMsgReport:(id)a0 context:(id)a1;
- (void)reportOfflineCacheWithKey:(unsigned int)a0 value:(unsigned int)a1;
- (void)onServiceInitWithCategoryPreloadImage;
- (void)preloadImageUrls:(id)a0 forPageIdentifity:(id)a1;
- (id)getPreloadImageDataForPageUrl:(id)a0 andImageUrl:(id)a1;
- (id)getPreloadImageDataFromMemoryForPageUrl:(id)a0 andImageUrl:(id)a1;
- (void)savePreloadImageData:(id)a0 forPageUrl:(id)a1 andImageUrl:(id)a2;
- (void)updateMemoryCacheForImageData:(id)a0 forPageUrl:(id)a1 andImageUrl:(id)a2;
- (void)saveExternalCoverImageData:(id)a0 forPageUrl:(id)a1;
- (void)updateExternalCoverImageData:(id)a0 forPageUrl:(id)a1;
- (void)updateMemoryCacheForExternalCoverImageData:(id)a0 forPageUrl:(id)a1;
- (id)getExternalCoverImageDataForPageUrl:(id)a0;
- (id)getExternalCoverImageDataFromMemoryForPageUrl:(id)a0;
- (void)addTaskIfNeed:(id)a0;
- (void)runPendingTasksIfNeed;
- (void)runTask:(id)a0;
- (void)handleResultForTask:(id)a0 location:(id)a1 error:(id)a2 serverContentType:(id)a3 startTime:(double)a4;
- (void)onTaskEnd:(id)a0 succeed:(BOOL)a1;
- (id)preloadImageCacheFileDir;
- (id)preloadImageCacheFileDirWithIdentity:(id)a0;
- (id)imagePathForPreloadTask:(id)a0;
- (id)imagePathForPageIdentity:(id)a0 fileName:(id)a1;
- (unsigned long long)preloadImagesSize;
- (unsigned long long)cleanPreloadImages;
- (void)deletePreloadImagesForPageIdentifity:(id)a0;
- (void)reportPreloadImageEventForScene:(unsigned int)a0 canLoad:(BOOL)a1;
- (void)reportPreloadImageEventStartDownload;
- (void)reportPreloadImageEventDownloadFinishWithTime:(long long)a0 size:(long long)a1;
- (void)onServiceInitWithCategoryPageData;
- (void)preloadPageDataWithUrl:(id)a0 scene:(unsigned int)a1 enterType:(unsigned int)a2;
- (void)preloadPageDataWithUrlList:(id)a0 scene:(unsigned int)a1 enterType:(unsigned int)a2;
- (void)priorityUpdatePageData:(id)a0 enterType:(unsigned int)a1;
- (void)advanceDirectUpdatePageDataWithUrl:(id)a0 templateType:(unsigned int)a1 scene:(unsigned int)a2 enterType:(unsigned int)a3 useOfflineCache:(BOOL)a4 sourceUserName:(id)a5;
- (void)directUpdatePageData:(id)a0 withTemplateVersion:(unsigned int)a1 withTemplateVersionGroup:(id)a2;
- (id)getPageForceUrlWithUrl:(id)a0;
- (BOOL)getPageForceUrlFullScreenValidState:(id)a0;
- (BOOL)hasItemShowTypeWithUrl:(id)a0;
- (BOOL)hasItemShowTypeWithUrl:(id)a0 useOfflineCacheData:(BOOL)a1;
- (unsigned int)getItemShowTypeWithUrl:(id)a0;
- (unsigned int)getItemShowTypeWithUrl:(id)a0 useOfflineCacheData:(BOOL)a1;
- (unsigned int)getPageDataRequiredTemplateVersionWithUrl:(id)a0 templateType:(unsigned int)a1 templateVersionGroup:(id)a2;
- (BOOL)hasValidPageDataWithUrl:(id)a0 templateType:(unsigned int)a1 templateVersion:(unsigned int)a2 templateVersionGroup:(id)a3 isOfflineCache:(BOOL)a4;
- (id)getPageDataWithUrl:(id)a0 templateType:(unsigned int)a1 templateVersion:(unsigned int)a2 templateVersionGroup:(id)a3 isOfflineCache:(BOOL)a4;
- (void)expirePageDataWithUrl:(id)a0;
- (void)removeAllPageDataWithScene:(unsigned long long)a0 sceneNote:(id)a1;
- (id)workQueue_filterAndFillPageDataRequestUrlInfoList:(id)a0 withTemplateTypeToVersionDictionary:(id)a1 withTemplateTypeToVersionGroupDictionary:(id)a2;
- (void)mainThread_updatePageDataWaitUrlInfoList:(id)a0 forceUpdate:(BOOL)a1;
- (id)filterInvalidOrRepeatedUrlInfoList:(id)a0;
- (id)filterPageDataRequestUrlInfoList:(id)a0;
- (id)identityListFromPageDataUrlInfoList:(id)a0;
- (void)removeFromPageDataWaitQueueWithIdentityList:(id)a0 inQueue:(id)a1;
- (void)addHeadOfPageDataWaitQueue:(id)a0;
- (void)checkPageDataWaitQueue;
- (void)requestPageData:(id)a0 scene:(unsigned long long)a1 templateTypeList:(id)a2;
- (void)onResponsePageData:(id)a0 userData:(id)a1;
- (void)workQueue_onResponsePageData:(id)a0 userData:(id)a1;
- (void)workQueue_processPageDataResponse:(id)a0 withUrlToContentInfoDic:(id)a1 context:(id)a2;
- (void)updateUrlInfoCountInEnterType:(unsigned int)a0 bizTimelineCount:(unsigned int *)a1 bizSessionCount:(unsigned int *)a2 commSessionCount:(unsigned int *)a3 snsCount:(unsigned int *)a4 bizProfileCount:(unsigned int *)a5 webJSAPICount:(unsigned int *)a6 kanJSAPICount:(unsigned int *)a7;
- (BOOL)saveResponsePageDataContentToDisk:(id)a0 identity:(id)a1;
- (void)reportRequestPageDataWithContext:(id)a0;
- (void)addHeadOfUnfilteredPageDataWaitQueue:(id)a0;
- (void)checkUnfilteredPageDataWaitQueueAfterDelay;
- (void)checkAndFilterPageDataWaitQueue;
- (id)getPageDataCacheItem:(id)a0;
- (id)getPageDataCacheItemWithIdentity:(id)a0;
- (void)addMPPageCacheItemList:(id)a0;
- (void)removeAllMPPageCacheItemsWithScene:(unsigned long long)a0 sceneNote:(id)a1;
- (id)pageDataFileDir;
- (id)pageDataFilePathWithIdentity:(id)a0;
- (BOOL)isPageDataFileExistWithIdentity:(id)a0;
- (id)getPageDataCacheItem:(id)a0 isOfflineCache:(BOOL)a1;
- (BOOL)isPageDataFileExistWithIdentity:(id)a0 isOfflineCache:(BOOL)a1;
- (id)pageDataFilePathWithIdentity:(id)a0 isOfflineCache:(BOOL)a1;
- (BOOL)getPageForceUrlFullScreenValidState:(id)a0 isOfflineCache:(BOOL)a1;
- (id)getPageForceUrlWithUrl:(id)a0 isOfflineCache:(BOOL)a1;
- (unsigned int)getPageDataRequiredTemplateVersionWithUrl:(id)a0 templateType:(unsigned int)a1 templateVersionGroup:(id)a2 isOfflineCache:(BOOL)a3;
- (unsigned int)calcOfflineCacheRequestCount:(id)a0;
- (id)sceneControlStorageKeyWithScene:(unsigned int)a0;
- (void)saveSceneControl:(id)a0;
- (id)getSceneControlWithScene:(unsigned int)a0;
- (void)savePreloadLimitDispatchDelay:(unsigned long long)a0;
- (unsigned long long)getPreloadLimitDispatchDelay;
- (BOOL)shouldPreloadImageForRequestInfo:(id)a0;
- (void)onServiceInitWithCategoryOfflineCache;
- (BOOL)supportWxPic;
- (BOOL)isSupportOfflineCache;
- (id)offlineCacheFileDir;
- (id)offlineCacheFileDirWithIdentity:(id)a0;
- (id)offlineCache_pageDataPathWithIdentity:(id)a0;
- (id)offlineCacheImagePathWithImageDownloadTask:(id)a0;
- (id)offlineCacheImagePathWithPageIdentity:(id)a0 andFileName:(id)a1;
- (void)addDownloadImageUrlList:(id)a0 forIdentity:(id)a1;
- (void)checkTaskExistAndReplaceOrAdd:(id)a0;
- (void)startOneImageDownloadTask:(id)a0;
- (void)handleDownloadWithDownloadTask:(id)a0 Location:(id)a1 andError:(id)a2;
- (void)onDownloadEndWithTask:(id)a0 isSuccess:(BOOL)a1;
- (void)checkImageWaitingQueue;
- (id)imageDataWithPageUrl:(id)a0 andImageUrl:(id)a1;
- (void)saveImageData:(id)a0 forPageUrl:(id)a1 andImageUrl:(id)a2;
- (BOOL)offlineCache_savePageDataContentToDisk:(id)a0 identity:(id)a1;
- (BOOL)offlineCache_isPageDataFileExistWithIdentity:(id)a0;
- (void)offlineCache_addMPPageItemList:(id)a0;
- (id)offlineCache_getPageDataOfflineCacheItem:(id)a0;
- (id)offlineCache_getPageDataCacheItemWithIdentity:(id)a0;
- (id)offlineCache_getPageForceUrlWithUrl:(id)a0;
- (unsigned long long)clearAllOfflineCaches;
- (unsigned long long)offlineCachesSize;
- (void)deleteOfflineCacheWithIdentity:(id)a0;
- (void)checkAndUpdateExpireCacheItems;
- (BOOL)offlineCache_getPageForceUrlFullScreenValidState:(id)a0;
- (unsigned int)offlineCache_getPageDataRequiredTemplateVersionWithUrl:(id)a0 templateType:(unsigned int)a1 templateVersionGroup:(id)a2;
- (void)onServiceInitWithCategoryCheckSwitch;
- (unsigned long long)allOpenUseFlag;
- (unsigned long long)useFlagWithEnterType:(unsigned int)a0;
- (BOOL)isUsePreCreateWebViewWithEnterType:(unsigned int)a0;
- (BOOL)isUsePreDownloadPageDataWithEnterType:(unsigned int)a0;
- (BOOL)isUseFastLoadWithEnterType:(unsigned int)a0;
- (BOOL)canUseFastLoadWithEnterType:(unsigned int)a0 templateType:(unsigned int)a1 itemShowType:(unsigned int)a2;
- (BOOL)isPrepareWebviewWithTemplateTypeIfNeeded:(unsigned int)a0;
- (unsigned long long)commonSharsUseFlag;
- (BOOL)isUseFastLoadCommonShare;
- (BOOL)isUseFastLoadCommonShareTemplateWithTextAppMsg;
- (BOOL)isUseFastLoadCommonShareTemplateWithImageAppMsg;
- (BOOL)disableFastLoadOnLimitedMode;
- (BOOL)isDisableFastloadTimeout;
- (void)setDisableFastloadTimeout:(BOOL)a0;
- (void)dealloc;
- (void)onServiceInit;
- (void)onServiceMemoryWarning;
- (void)onServiceClearData;
- (void)onServiceEnterBackground;
- (void)appDidTerminateWKWebviewNetworkProcess;
- (BOOL)isLowQualityNetworkCondition;
- (void)reportWithId:(unsigned int)a0 key:(unsigned long long)a1;
- (void)reportWithId:(unsigned int)a0 key:(unsigned long long)a1 value:(unsigned int)a2;
- (unsigned int)templateTypeArticle;
- (unsigned int)templateTypeCommonShare;
- (id)commonCheckTemplateTypeList;
- (id)pageFastLoadEventMgr;
- (void)asyncPreparePreloadWebViewWithType:(unsigned int)a0 enterType:(unsigned int)a1 scene:(unsigned int)a2 afterDelay:(double)a3;
- (void)asyncPreparePreloadWebViewWithTypeList:(id)a0 enterType:(unsigned int)a1 scene:(unsigned int)a2 afterDelay:(double)a3;
- (id)createWebViewCtrlMaybeUseFastLoad:(BOOL)a0 itemShowType:(unsigned int)a1 enterType:(unsigned int)a2 scene:(unsigned int)a3 urlForReport:(id)a4 url:(id)a5 visibleViewController:(id)a6 addExtraInfo:(id)a7 presetUI:(id)a8 isUsedFastLoad:(BOOL *)a9 forceUrl:(id *)a10 useOfflineCache:(BOOL)a11;
- (id)createWebViewCtrlMaybeUseFastLoad:(BOOL)a0 itemShowType:(unsigned int)a1 enterType:(unsigned int)a2 scene:(unsigned int)a3 urlForReport:(id)a4 url:(id)a5 visibleViewController:(id)a6 addExtraInfo:(id)a7 presetUI:(id)a8 isUsedFastLoad:(BOOL *)a9 forceUrl:(id *)a10 useOfflineCache:(BOOL)a11 config:(id)a12;
- (id)webViewControllerWithType:(unsigned int)a0 itemShowType:(unsigned int)a1 enterType:(unsigned int)a2 scene:(unsigned int)a3 url:(id)a4 pageDataKeyUrl:(id)a5 visibleViewController:(id)a6 addExtraInfo:(id)a7 isUsedFastLoad:(BOOL *)a8 useOfflineCache:(BOOL)a9 config:(id)a10;
- (void)destoryPreloadWebViewWithType:(unsigned int)a0 fullVersion:(id)a1;
- (void)destoryAllPreloadWebView;
- (void)removePageDataTriggerWithLimitedMode:(unsigned long long)a0 sceneNote:(id)a1;
- (id)changeUrlSchemeToHttps:(id)a0;
- (id)userDefaultKeyWithName:(id)a0;
- (void)preparePreloadWebViewWithType:(unsigned int)a0 enterType:(unsigned int)a1;
- (id)popPreloadWebViewWithType:(unsigned int)a0 enterType:(unsigned int)a1 scene:(unsigned int)a2;
- (id)generateWebViewWithType:(unsigned int)a0 enterType:(unsigned int)a1 isPreload:(BOOL)a2;
- (void)clearPreloadWebViewWithScene:(unsigned long long)a0;
- (void)onLimitedModeChanged;
- (void)onLimitedModeBizLevelChange:(long long)a0 bizType:(long long)a1;
- (id)pathOfCacheDir;
- (id)pathOfLibraryDir;
- (void)MessageReturn:(id)a0 Event:(unsigned int)a1;
- (void)didBecomeActive;
- (void).cxx_destruct;

@end
