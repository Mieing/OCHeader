@class AVSampleBufferDisplayLayer, NSString, VESampleData, VEFPSCalculator, VELimitLogger, HTSGLFramebuffer, VEMVPRenderer, NSMutableArray, NSObject, HTSGLContext, VEFastcvRgb2Yuv;
@protocol OS_dispatch_queue, IVERendererDrawable;

@interface VEPreviewUnit : UIView <VEAppStatusProtocol, IVEPreviewUnit> {
    float _backgroundColorRed;
    float _backgroundColorGreen;
    float _backgroundColorBlue;
    float _backgroundColorAlpha;
    VESampleData *_inputSampleDataForDisplay;
    HTSGLFramebuffer *_transformFrameBuffer;
    struct CGSize { double width; double height; } _boundsSizeAtFrameBufferEpoch;
    struct CGSize { double width; double height; } _boundsSizeWithRetina;
    BOOL _hasRender;
    BOOL _flipX;
    BOOL _flipY;
    double _rotateAngle;
    double _extraRotateAngle;
    double _offsetX;
    double _offsetY;
    double _scale;
    struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } _cropRect;
    id /* block */ _previewImageHandler;
    unsigned long long _inputRotation;
    struct { long long value; int timescale; unsigned int flags; long long epoch; } _lasetPresentTime;
    struct { long long value; int timescale; unsigned int flags; long long epoch; } _lastCaptureTime;
    HTSGLFramebuffer *_cacheFramebufferForCapture;
    HTSGLFramebuffer *_imageCaptureFramebuffer;
    struct opaqueCMSampleBuffer { } *_lastSampleBuffer;
    struct __CVBuffer { } *_lastPixelBuffer;
}

@property (nonatomic) struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } viewBounds;
@property (retain, nonatomic) VELimitLogger *previewLimitLogger;
@property (retain, nonatomic) VEFPSCalculator *fpsCalculator;
@property (nonatomic) long long previewFps;
@property (nonatomic) double previewFrameCost;
@property (nonatomic) BOOL isFromRecorder;
@property (retain, nonatomic) AVSampleBufferDisplayLayer *sampleBufferDisplayLayer;
@property (nonatomic) unsigned long long sampeBufferCounter;
@property (retain, nonatomic) NSMutableArray *sampleDataArray;
@property (retain, nonatomic) NSMutableArray *sampleBufferArray;
@property (retain, nonatomic) VEMVPRenderer *mvpCaptureRenderer;
@property (nonatomic) BOOL enable10bitRT;
@property (nonatomic) long long maxPreviewBufferCount;
@property (retain, nonatomic) NSMutableArray *transColorFramebuffers;
@property (retain, nonatomic) VEFastcvRgb2Yuv *fastcvRgb2Yuv;
@property (nonatomic) BOOL lastRecordingStatus;
@property (nonatomic) BOOL isLastFrameBufferRender;
@property (nonatomic) BOOL needTransformRenderForDisplayLayer;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *bufferCacheQueue;
@property (nonatomic) BOOL useFirstFrameCallbackFix;
@property (nonatomic) BOOL isMVPRender;
@property (nonatomic) BOOL dynamicLanczos;
@property (readonly, nonatomic) VEMVPRenderer *textureMvpRenderer;
@property (readonly, nonatomic) id<IVERendererDrawable> rendererDrawable;
@property (nonatomic) BOOL enableAGFXMetal;
@property (nonatomic) BOOL enablePrintFPS;
@property (nonatomic) long long colorPrimariesType;
@property (nonatomic) long long transferFunctionType;
@property (copy, nonatomic) id /* block */ beginOfStreamArrivedBlock;
@property (nonatomic) unsigned long long forceRotationMode;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (nonatomic) unsigned long long fillMode;
@property (readonly, nonatomic) struct CGSize { double x0; double x1; } sizeInPixels;
@property (retain, nonatomic) HTSGLContext *context;
@property (copy, nonatomic) id /* block */ firstRenderBlk;
@property (copy, nonatomic) id /* block */ nthRenderBlk;
@property (copy, nonatomic) id /* block */ frameTimeBlk;
@property (nonatomic) BOOL enableBlend;
@property (nonatomic) BOOL isMagnifierUnit;
@property (nonatomic) long long framePrefetchLatency;
@property (retain, nonatomic) NSString *route;

- (struct CGSize { double x0; double x1; })maximumOutputSize;
- (void)setBackgroundColorRed:(float)a0 green:(float)a1 blue:(float)a2 alpha:(float)a3;
- (void)clearDisplay:(float)a0 green:(float)a1 blue:(float)a2 alpha:(float)a3;
- (void)commonInit:(long long)a0;
- (id)initWithFrame:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0 route:(id)a1;
- (id)initWithFrame:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0 route:(id)a1 context:(id)a2;
- (id)initWithFrame:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0 route:(id)a1 context:(id)a2 renderType:(long long)a3;
- (void)updateHTSGLContext:(id)a0;
- (void)updateColorSpace:(id)a0 finishBlock:(id /* block */)a1;
- (void)updatePreviewGamma:(unsigned long long)a0;
- (struct CGImage { } *)capturePreviewtoImage;
- (struct CGImage { } *)capturePreviewtoImage:(struct { long long x0; int x1; unsigned int x2; long long x3; } *)a0;
- (void)capturePreviewtoImageAsync:(id /* block */)a0;
- (BOOL)capturePreviewtoData:(char *)a0 requiredWidth:(int)a1 requiredHeight:(int)a2;
- (void)setFlipX:(BOOL)a0 flipY:(BOOL)a1;
- (void)setExtraRotateAngle:(double)a0;
- (void)setOffsetX:(double)a0 offsetY:(double)a1;
- (void)enableTransparent:(BOOL)a0;
- (void)enableDisplayLanczos:(BOOL)a0;
- (void)clearResource;
- (void)calcBackgrounColorWithColorSpace;
- (void)layerInit;
- (void)updateLayerColorSpace:(id)a0;
- (void)layerLayout;
- (BOOL)processSampleData:(id)a0;
- (void)_initRenderWithRenderType:(long long)a0;
- (void)p_cleanCachedSampleBuffer;
- (void)p_cleanCachedPixelBuffer;
- (void)p_countingFrames;
- (void)clearDisplay:(float)a0 green:(float)a1 blue:(float)a2 alpha:(float)a3 sync:(BOOL)a4;
- (void)renderWithDisplayLayer:(id)a0 firstRenderBlk:(id /* block */)a1;
- (void)rebuildRender:(long long)a0;
- (void)p_holdPixelBuffer:(struct __CVBuffer { } *)a0;
- (void)needCapturePreview:(id)a0;
- (void)doRender:(id)a0 syncClear:(BOOL)a1 firstRenderBlk:(id /* block */)a2;
- (void)renderWithGpu:(id)a0 firstRenderBlk:(id /* block */)a1;
- (id)doTransformRender:(id)a0;
- (void)p_holdSampleBuffer:(struct opaqueCMSampleBuffer { } *)a0;
- (void)p_createDisplayLayer;
- (BOOL)capturePreviewFrameBuffer;
- (void)modifyTransformPara;
- (void)cleanCachedFrameBuffer;
- (void)becomeActive;
- (void)layoutSublayersOfLayer:(id)a0;
- (void).cxx_destruct;
- (void)setCropRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0;
- (void)enterBackground;
- (void)cleanCache;
- (id)initWithContext:(id)a0;
- (void)resignActive;
- (void)setScaleFactor:(double)a0;
- (id)initWithFrame:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0;
- (id)initWithCoder:(id)a0;
- (void)enterForeground;
- (void)layoutSubviews;
- (void)setFrame:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0;
- (void)dealloc;
- (void)_layoutSubviews;
- (void)memoryWarning;

@end
