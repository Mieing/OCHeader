@class BDECPigeonLoginStaffModel, BDECPigeonNetworkBridge, BDECPigeonKVStore, NSMutableArray, BDECPigeonWebSocketBridge, NSString, NSMutableSet, BDECPigeonParticipantManagerV2, NSArray, NSMutableDictionary, BDECPigeonCommonBizTracker, NSObject, NSLock, BDECPigeonClientConfigV2, BDECPigeonShopManagerV2, BDECPigeonHTTPPath, BDECPigeonTrackerV2, BDECPigeonMultiDelegate, BDECPigeonStaffManagerV2, NSMapTable, BDECPigeonClientPatchV2, BDECPigeonUserManagerV2;
@protocol BDECIMCloudIMClientV2Interface, BDECIMCloudCoreBridgeManagerV2Interface, BDECIMCloudClientV2Interface, BDECPigeonClientDelegate, BDECIMCloudIMMessageReadManagerV2Interface, OS_dispatch_queue, BDECIMCloudWebSocketBridgeV2Interface;

@interface BDECPigeonClientV2 : NSObject <BDECIMCloudIMMessageReadManagerV2Delegate, BDECIMCloudChangeObserverV2Delegate, BDECIMCloudClientV2Delegate, BDECIMCloudPullerStatusChangeObserverV2Delegate, BDECIMCloudIMStatisticV2Delegate, BDECIMCloudAppMessageInsertPluginV2Delegate, BDECIMCloudMessageSenderV2Delegate> {
    struct _opaque_pthread_rwlock_t { long long __sig; char __opaque[192]; } _channelLock;
}

@property (retain) BDECPigeonClientConfigV2 *innerConfig;
@property (nonatomic) long long loginStatus;
@property (retain, nonatomic) BDECPigeonWebSocketBridge *imWebSocket;
@property (readonly, nonatomic) NSMutableDictionary *channelMap;
@property (readonly, nonatomic) NSMutableSet *channelInboxSet;
@property long long staticTimestampDeltaCount;
@property (retain) NSMutableArray *lastTimeDeltaValues;
@property (retain) NSMutableArray *lastTimeCheckValues;
@property double pullStartTime;
@property (retain, nonatomic) BDECPigeonMultiDelegate<BDECPigeonClientDelegate> *multiDelegates;
@property (copy) NSString *bizUserId;
@property (copy) NSString *loginPigeonBizType;
@property (copy) NSString *pigeonSign;
@property (copy) NSString *pigeonShopId;
@property (copy) NSString *pigeonServiceEntityID;
@property (retain) BDECPigeonLoginStaffModel *staffModel;
@property double lastTimeHandleStatusExpired;
@property BOOL needsWebSocketOpen;
@property (retain, nonatomic) id<BDECIMCloudIMClientV2Interface> IMCloudClient;
@property (retain) id<BDECIMCloudCoreBridgeManagerV2Interface> imCloudBridgeManager;
@property (retain, nonatomic) id<BDECIMCloudWebSocketBridgeV2Interface> IMCloudWebSocketBridge;
@property (copy, nonatomic) NSString *imOChangeObserverIdentifier;
@property (copy, nonatomic) NSString *messageSenderObserverIdentifier;
@property (copy, nonatomic) NSString *convListPullObserverIdentifier;
@property (retain, nonatomic) NSMutableDictionary *hasReportDatabaseDamage;
@property (nonatomic) unsigned long long messageSendErrorCount;
@property (retain, nonatomic) BDECPigeonKVStore *customKVStore;
@property (retain, nonatomic) BDECPigeonKVStore *kvStore;
@property (retain, nonatomic) BDECPigeonKVStore *kvStoreFix1;
@property (retain, nonatomic) BDECPigeonKVStore *kvStoreFix2;
@property (readonly, nonatomic) unsigned long long clientType;
@property (readonly) id<BDECIMCloudClientV2Interface> IMClient;
@property (readonly, copy, nonatomic) NSArray *messageVisibilityTypesToHide;
@property (readonly, nonatomic) id<BDECIMCloudIMMessageReadManagerV2Interface> messageReadManager;
@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *backgroundQueue;
@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *callIMCloudQueue;
@property (readonly, nonatomic) BDECPigeonClientPatchV2 *clientPatch;
@property (readonly, nonatomic) BDECPigeonStaffManagerV2 *staffManager;
@property (readonly, nonatomic) BDECPigeonUserManagerV2 *userManager;
@property (readonly, nonatomic) BDECPigeonShopManagerV2 *shopManager;
@property (readonly, nonatomic) BDECPigeonParticipantManagerV2 *participantManager;
@property (retain, nonatomic) BDECPigeonNetworkBridge *imNetwork;
@property (readonly) BDECPigeonHTTPPath *httpPath;
@property (nonatomic) long long clientInitTime;
@property (nonatomic) long long loginStartTime;
@property (nonatomic) long long loginEndTime;
@property (readonly, nonatomic) NSLock *conversationMapTableLock;
@property (readonly, nonatomic) NSMapTable *conversationMapTable;
@property (readonly, nonatomic) NSLock *messageMapTableLock;
@property (readonly, nonatomic) NSMapTable *messageMapTable;
@property (retain) BDECPigeonClientConfigV2 *config;
@property (readonly, nonatomic) double serverTimestamp;
@property double avgTimeDelta;
@property double avgTimeDeltaVariance;
@property (readonly, nonatomic) BOOL isLogin;
@property (readonly, nonatomic) BOOL websocketConnected;
@property (readonly, nonatomic) long long currentUserID;
@property (readonly, copy, nonatomic) NSString *currentUserId;
@property (readonly, nonatomic) BDECPigeonTrackerV2 *tracker;
@property (readonly, nonatomic) BDECPigeonCommonBizTracker *bizTracker;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (BOOL)removeAllIMFileWithAppID:(id)a0 userID:(long long)a1 businessID:(id)a2 dbFixType:(unsigned long long)a3;
+ (Class)channelClassWithCommunicateType:(unsigned long long)a0;
+ (id)defaultKVStore;
+ (id)cacheMapTable;
+ (unsigned long long)clientType;

- (void)newP2PMessageNotifyConversation:(id)a0 message:(id)a1;
- (id)createCacheWithName:(id)a0;
- (void)fetchCurrentUserInfoWithPigeonBizType:(id)a0 completion:(id /* block */)a1;
- (void)ecomAuthorFetchImageUrlWithPigeonBizType:(id)a0 uri:(id)a1 completion:(id /* block */)a2;
- (void)fetchCurrentUserInfoFromCacheWithPigeonBizType:(id)a0 completion:(id /* block */)a1;
- (void)batchFetchSerivceInfosWithPigeonBizType:(id)a0 pigeonShopId:(id)a1 conGroupId:(id)a2 pigeonCidList:(id)a3 completion:(id /* block */)a4;
- (void)logoutWithCompletion:(id /* block */)a0;
- (void)ecomAuthorFetchECOMImageXTokenWithPigeonBizType:(id)a0 completion:(id /* block */)a1;
- (void)ecomFetchVideoTokenWithPigeonBizType:(id)a0 completion:(id /* block */)a1;
- (void)ecomPublishVideoWithVid:(id)a0 receiverId:(id)a1 pigeonBizType:(id)a2 completion:(id /* block */)a3;
- (void)ecomUploadImageToTOSWithImageData:(id)a0 imageName:(id)a1 pigeonBizType:(id)a2 completion:(id /* block */)a3;
- (void)ecomTransCodeVideoWithVid:(id)a0 pigeonBizType:(id)a1 completion:(id /* block */)a2;
- (BOOL)asyncSendMessage:(id)a0;
- (void)batchFetchShopInfosWithShopIds:(id)a0 options:(id)a1 pigeonBizType:(id)a2 completion:(id /* block */)a3;
- (void)batchFetchServiceEntityInfosWithServiceEntityIDs:(id)a0 bizType:(id)a1 options:(id)a2 completion:(id /* block */)a3;
- (void)fetchBizRoleInfoWithPigeonIds:(id)a0 pigeonShopId:(id)a1 pigeonBizType:(id)a2 pigeonBizRoleType:(id)a3 options:(id)a4 completion:(id /* block */)a5;
- (void)cacheShopInfo:(id)a0 pigeonBizType:(id)a1;
- (id)shopInfoFromMemoryCache:(id)a0 pigeonBizType:(id)a1;
- (id)findSingleConversationChannelWithBizType:(id)a0;
- (void)shopInfosFromCache:(id)a0 pigeonBizType:(id)a1 completion:(id /* block */)a2;
- (void)openLongConnection;
- (void)IMLoginWithUserID:(id)a0 token:(id)a1 completion:(id /* block */)a2;
- (void)closeLongConnection;
- (void)addIMObserver;
- (void)removeIMObserver;
- (void)removeSyncConversationsObserver;
- (void)addMessageSendObserverIfNeeded;
- (void)prepareForIMDidLogin;
- (void)prepareForIMDidLogout;
- (void)messageReadDidUpdateWithArrConversationID:(id)a0;
- (void)didInsertNewMessagesWithMessageIdentifiers:(id)a0 belongingConversationMap:(id)a1 reason:(long long)a2;
- (void)messageUpdated:(id)a0 inConversation:(id)a1;
- (void)conversationUpdated:(id)a0;
- (void)conversationDidDissolved:(id)a0;
- (void)onDatabaseDamageWithError:(id)a0 accountID:(long long)a1;
- (void)imClientIdentityTokenDidBecomeInvalid;
- (void)imClientOnAuthError:(long long)a0;
- (void)processMessages:(id)a0;
- (BOOL)filterMessage:(id)a0 reason:(id)a1;
- (BOOL)filterMessage:(id)a0;
- (void)pullerInsertNewMessages:(id)a0 reason:(id)a1 context:(id)a2;
- (void)dealMessageWhenWebsocketArrive:(id)a0;
- (void)message:(id)a0 inConversation:(id)a1 didReceiveResponse:(id)a2 error:(id)a3;
- (id)getMessagesBeforeTime:(double)a0 inTypes:(id)a1 limit:(unsigned long long)a2;
- (id)conversationWithId:(id)a0;
- (void)ecomFetchECOMImageXTokenWithPigeonBizType:(id)a0 completion:(id /* block */)a1;
- (void)ecomAuthorFetchVideoTokenWithPigeonBizType:(id)a0 completion:(id /* block */)a1;
- (void)ecomAuthorPublishVideoWithWithPigeonBizType:(id)a0 vid:(id)a1 receiverId:(id)a2 completion:(id /* block */)a3;
- (void)ecomAuthorUploadImageToTOSWithPigeonBizType:(id)a0 imageData:(id)a1 imageName:(id)a2 completion:(id /* block */)a3;
- (void)ecomAuthorTransCodeVideoWithPigeonBizType:(id)a0 vid:(id)a1 completion:(id /* block */)a2;
- (void)ecomAuthorFetchVideoApiTokenWithPigeonBizType:(id)a0 vid:(id)a1 completion:(id /* block */)a2;
- (void)didStartPullForUser:(long long)a0 inbox:(int)a1 pullerType:(long long)a2;
- (void)pullerSimpleStatusDidChangeTo:(long long)a0 forInbox:(int)a1;
- (void)didReceiveTimestamp:(id)a0;
- (void)fetchCurrentParticipantWithPigeonBizType:(id)a0 extend:(id)a1 completion:(id /* block */)a2;
- (void)fetchParticipantWithPigeonUids:(id)a0 pigeonBizType:(id)a1 extend:(id)a2 completion:(id /* block */)a3;
- (void)batchFetchShopInfosWithPigeonBizType:(id)a0 extendParams:(id)a1 bizExt:(id)a2 options:(id)a3 completion:(id /* block */)a4;
- (void)fetchImageXTokenWithPigeonBizType:(id)a0 completion:(id /* block */)a1;
- (void)fetchImageUrlWithUri:(id)a0 pigeonBizType:(id)a1 completion:(id /* block */)a2;
- (void)removeAllIMFileWithAppID:(id)a0 userID:(long long)a1;
- (void)didEndPullForUser:(long long)a0 inbox:(int)a1 pullerType:(long long)a2 error:(id)a3 hasMore:(BOOL)a4 userInfo:(id)a5;
- (void)didEndFetchAllOpenConversationForUser:(long long)a0 inbox:(int)a1;
- (void)didStartFetchAllOpenConversationForUser:(long long)a0 inbox:(int)a1;
- (void)asyncGetConversationWithId:(id)a0 completion:(id /* block */)a1;
- (void)fetchCurrentUserPigeonUidWithPigeonBizType:(id)a0 completion:(id /* block */)a1;
- (void)fetchShopIdWithPigeonBizType:(id)a0 bizShopId:(id)a1 conGroupId:(id)a2 completion:(id /* block */)a3;
- (void)ecomAuthorFetchImageUrlWithPigeonBizType:(id)a0 uri:(id)a1 extraParams:(id)a2 completion:(id /* block */)a3;
- (void)ecomFetchImageUrlWithUri:(id)a0 completion:(id /* block */)a1;
- (void)fetchUserInfoListWithPigeonUids:(id)a0 pigeonBizType:(id)a1 completion:(id /* block */)a2;
- (unsigned long long)hasPermissionStatusWithCode:(long long)a0;
- (void)fetchCurrentStaffPigeonIDWithPigeonBizType:(id)a0 completion:(id /* block */)a1;
- (void)fetchIMPermissionWithPigeonBizType:(id)a0 conGroupId:(id)a1 completion:(id /* block */)a2;
- (void)fetchStaffInfoWithPigeonCids:(id)a0 pigeonShopId:(id)a1 conGroupId:(id)a2 pigeonBizType:(id)a3 completion:(id /* block */)a4;
- (void)fetchCurrentStaffInfoWithPigeonBizType:(id)a0 conGroupId:(id)a1 completion:(id /* block */)a2;
- (void)fetchTransferStaffInfoListWithPigeonBizType:(id)a0 pigeonShopId:(id)a1 conGroupId:(id)a2 extraParams:(id)a3 completion:(id /* block */)a4;
- (void)configStaffOnlineStatusWithPigeonCid:(id)a0 pigeonShopId:(id)a1 pigeonBizType:(id)a2 onlineStatus:(unsigned long long)a3 extraParams:(id)a4 completion:(id /* block */)a5;
- (void)fetchCurrentStaffPigeonIDPriorityUseMemoryCacheWithPigeonBizType:(id)a0 completion:(id /* block */)a1;
- (void)p_loginWithPigeonBizType:(id)a0 bizUserId:(id)a1 completion:(id /* block */)a2;
- (void)p_loginFetchIMTokenWithGroup:(id)a0 pigeonBizType:(id)a1 loginResult:(id)a2;
- (void)p_loginFetchUserInfoWithGroup:(id)a0 pigeonBizType:(id)a1 loginResult:(id)a2;
- (void)p_loginHandleLoginResult:(id)a0 pigeonBizType:(id)a1 completion:(id /* block */)a2;
- (id)tokenCacheModelFromCache;
- (void)storeTokenCacheModelToCache:(id)a0;
- (void)fetchIMTokenWithPigeonBizType:(id)a0 completion:(id /* block */)a1;
- (void)trackLoginResultWithEndTime:(long long)a0 success:(BOOL)a1 error:(id)a2 permissionStatus:(unsigned long long)a3 extra:(id)a4;
- (BOOL)checkShouldDeleteDatabaseWithAccountID:(id)a0;
- (void)p_loginIMLoginWithPigeonBizType:(id)a0 loginResult:(id)a1 completion:(id /* block */)a2;
- (void)initIMCloudWithConfig:(id)a0;
- (void)clearModelCache;
- (void)registerListeningForSyncConversationsStatus;
- (void)renewIMToken:(id)a0 completion:(id /* block */)a1;
- (id)fixedCustomKVStore;
- (id)createChannelWithBizType:(id)a0 inboxes:(id)a1 communicateType:(unsigned long long)a2;
- (id)getChannelWithBizType:(id)a0;
- (id)getChannelWithInbox:(int)a0;
- (id)defaultKVStore;
- (double)safeAverageOfNumbers:(id)a0;
- (double)safeVariance:(id)a0;
- (BOOL)isFilterMsgWithMessage:(id)a0;
- (void)renewPigeonSign;
- (void)trackMessageArriveWithEventName:(id)a0 conversationID:(id)a1 messageID:(id)a2 messageSource:(id)a3 curTime:(long long)a4;
- (id)messageArriveEventParamWithConversationID:(id)a0 messageID:(id)a1 messageSource:(id)a2 curTime:(long long)a3;
- (void)handleAndNotifyDidInsertNewMessages:(long long)a0 messages:(id)a1 trackInfo:(id)a2 belongingBizConversationMap:(id)a3;
- (void)handleAndNotifyDidInsertNewMessages:(long long)a0 messages:(id)a1 belongingBizConversationMap:(id)a2;
- (void)handleDidInsertNewMessages:(long long)a0 messages:(id)a1 belongingBizConversationMap:(id)a2;
- (void)notifyDidInsertNewMessages:(long long)a0 messages:(id)a1 belongingBizConversationMap:(id)a2;
- (void)notifyDidInsertNewMessages:(long long)a0 messages:(id)a1 trackInfo:(id)a2 belongingBizConversationMap:(id)a3;
- (void)p_trackDidReceiveSendResponse:(id)a0 message:(id)a1 messageIdentifier:(id)a2 conversation:(id)a3 error:(id)a4;
- (id)loginRealCacheKey:(id)a0;
- (BOOL)isFilterTypeWithMessage:(id)a0;
- (void)checkOldConfig:(id)a0 newConfig:(id)a1;
- (void)loginWithPigeonBizType:(id)a0 bizUserId:(id)a1 completion:(id /* block */)a2;
- (void)removeCurrentUserAllIMFile;
- (id)createSingleChannelWithBizType:(id)a0 inboxes:(id)a1;
- (id)createBCChannelWithBizType:(id)a0 inboxes:(id)a1;
- (id)createGroupChannelWithBizType:(id)a0 inboxes:(id)a1;
- (BOOL)removeChannelWithBizType:(id)a0 inboxes:(id)a1;
- (id)getChannelWithBizType:(id)a0 inboxes:(id)a1;
- (id)findGroupConversationChannelWithBizType:(id)a0;
- (id)findGroupConversationChannelWithInbox:(int)a0;
- (id)findSingleConversationChannelWithInbox:(int)a0;
- (void)longConnectionStateChanged:(unsigned long long)a0;
- (void)onWSMessageDidReceive:(long long)a0 info:(id)a1;
- (id)fixedDefaultKVStore;
- (id)fixedKVStore;
- (void)addDelegate:(id)a0;
- (void)removeDelegate:(id)a0;
- (void).cxx_destruct;
- (id)init;
- (id)allChannels;
- (void)clearChannels;

@end
