@class NSString, RACSubject, ACCRecordSelectMusicPanel, IESEffectModel, RACSignal, ACCRearMusicModel;
@protocol ACCRecorderViewContainer, ACCRecordUIHiddenStrategyService, ACCCameraService, ACCRecordSelectMusicBindService, ACCRecordFlowService, ACCRecordPropService, ACCMusicModelProtocol, ACCRecordConfigService, ACCEditMusicServiceProtocol, ACCRecordSwitchModeService, ACCVideoConfigProtocol, ACCRecordSidebarService, ACCVideoEditMusicViewModelProtocol, ACCRecordTemplateVideoPreviewService;

@interface ACCRecordSelectMusicServiceImpl : ACCRecorderViewModel <ACCRecordConfigDurationHandler, ACCRecordConfigAudioHandler, ACCRecordSelectMusicService, FPDependentInitable>

@property (retain, nonatomic) RACSubject *musicCoverSubject;
@property (retain, nonatomic) RACSubject *selectMusicAnimationSubject;
@property (retain, nonatomic) RACSubject *bindMusicErrorSubject;
@property (retain, nonatomic) RACSubject *cancelMusicSubject;
@property (retain, nonatomic) RACSubject *pickMusicSubject;
@property (retain, nonatomic) RACSubject *updateMusicSubject;
@property (retain, nonatomic) RACSubject *updateMusicEnableSubject;
@property (retain, nonatomic) RACSubject *muteTipSubject;
@property (retain, nonatomic) RACSubject *downloadMusicForStickerSubject;
@property (retain, nonatomic) RACSubject *showSelectMusicPanelSubject;
@property (retain, nonatomic) RACSubject *dismissSelectMusicPanelSubject;
@property (retain, nonatomic) RACSubject *cancelSelectedMusicSubject;
@property (nonatomic) double currentPlayTime;
@property (retain, nonatomic) RACSubject *periodicTimeObserveSubject;
@property (retain, nonatomic) RACSubject *changePeriodicTimeIntervalSubject;
@property (nonatomic) double periodicTimeInterval;
@property (retain, nonatomic) RACSubject *musicLoadingSubject;
@property (retain, nonatomic) IESEffectModel *currentSticker;
@property (retain, nonatomic) IESEffectModel *reuseFeedEffect;
@property (copy, nonatomic) NSString *feedMusicFailedReason;
@property (copy, nonatomic) NSString *feedStickerFailedReason;
@property (nonatomic) BOOL hasSelectedMusic;
@property (retain, nonatomic) id<ACCCameraService> cameraService;
@property (retain, nonatomic) id<ACCRecordPropService> propService;
@property (retain, nonatomic) id<ACCRecordUIHiddenStrategyService> hiddenStragyService;
@property (retain, nonatomic) id<ACCRecordSwitchModeService> switchModeService;
@property (retain, nonatomic) id<ACCRecordFlowService> flowService;
@property (retain, nonatomic) id<ACCRecorderViewContainer> viewContainer;
@property (weak, nonatomic) id<ACCRecordSidebarService> sidebarService;
@property (retain, nonatomic) id<ACCVideoConfigProtocol> config;
@property (retain, nonatomic) id<ACCRecordConfigService> recordConfigService;
@property (retain, nonatomic) id<ACCMusicModelProtocol> forceBindMusic;
@property (weak, nonatomic) id<ACCEditMusicServiceProtocol, ACCVideoEditMusicViewModelProtocol> editMusicViewModel;
@property (weak, nonatomic) ACCRecordSelectMusicPanel *musicPanelService;
@property (weak, nonatomic) id<ACCRecordSelectMusicBindService> selectMusicBindService;
@property (retain, nonatomic) id<ACCRecordTemplateVideoPreviewService> templateVideoPreviewService;
@property (readonly, nonatomic) RACSignal *cancelMusicSignal;
@property (readonly, nonatomic) RACSignal *pickMusicSignal;
@property (readonly, nonatomic) RACSignal *updateMusicSignal;
@property (readonly, nonatomic) RACSignal *updateMusicEnableSignal;
@property (readonly, nonatomic) RACSignal *musicCoverSignal;
@property (readonly, nonatomic) RACSignal *selectMusicAnimationSignal;
@property (readonly, nonatomic) RACSignal *bindMusicErrorSignal;
@property (readonly, nonatomic) RACSignal *muteTipSignal;
@property (readonly, nonatomic) RACSignal *downloadMusicForStickerSignal;
@property (nonatomic) BOOL isFirstAppear;
@property (nonatomic, getter=isMounted) BOOL mounted;
@property (readonly, nonatomic) RACSignal *showSelectMusicPanelSignal;
@property (readonly, nonatomic) RACSignal *dismissSelectMusicPanelSignal;
@property (nonatomic) long long currentMusicPanelStatus;
@property (readonly, nonatomic) RACSignal *cancelSelectedMusicSignal;
@property (retain, nonatomic) id<ACCMusicModelProtocol> propRecommendMusic;
@property (retain, nonatomic) ACCRearMusicModel *rearApplyMusic;
@property (copy, nonatomic) id /* block */ hasSelectingMusicBlock;
@property (copy, nonatomic) id /* block */ updateRearApplyMusicBlock;
@property (nonatomic) BOOL enableAsyncPickMusic;
@property (nonatomic) double propBindMusicStartTime;
@property (retain, nonatomic) NSString *currentPropID;
@property (retain, nonatomic) id<ACCMusicModelProtocol> weakBindMusic;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, nonatomic) RACSignal *musicLoadingSignal;
@property (nonatomic) BOOL isMusicLoading;
@property (readonly, nonatomic) RACSignal *periodicTimeObserveSignal;
@property (readonly, nonatomic) RACSignal *changePeriodicTimeIntervalSignal;

+ (BOOL)supportSelectMusicWithRepository:(id)a0;
+ (id)musicIsOfflineText;
+ (id)obtainMusicCoverInfoFromMusic:(id)a0 repository:(id)a1;

- (id)publishModel;
- (void)recordComponentDidMount;
- (void)recordComponentDidAppear;
- (void)recordComponentDidDisappear;
- (void)recordComponentDidUnmount;
- (id)configService;
- (id)sameStickerMusic;
- (void)changePeriodicTimeInterval:(double)a0;
- (id)currentExtraRecommendedMusic;
- (BOOL)disableDeselectPropBindMusic;
- (BOOL)disableDeselectPropBindMusicWithProp:(id)a0;
- (void)handleRearApplyMusic:(id)a0 completion:(id /* block */)a1;
- (void)handleCancelMusic:(id)a0;
- (void)showSelectMusicPanel;
- (void)dismissSelectMusicPanel;
- (void)cancelSelectedMusic;
- (void)sendStartMusicLoadingSignal:(BOOL)a0;
- (BOOL)shouldEnableSelectRearMusic;
- (double)calculateMusicDurationWithAsset:(id)a0;
- (void)sendCurrentPlaybackTime:(double)a0;
- (void)updateBgmAudioRange;
- (BOOL)hasCameraAndMicroPhoneAuth;
- (void)updateCurrentSticker:(id)a0;
- (double)getComponentDuration:(id)a0;
- (void)willSetMaxDuration:(inout double *)a0 asset:(id)a1 showTip:(BOOL)a2 isFirstEmbed:(BOOL)a3;
- (void)didSetMaxDuration:(double)a0;
- (void)assembleRearApplyMusic:(id)a0;
- (void)assembleRearAndAutoApplyMusic:(id)a0;
- (void)updateAudioRangeWithStartLocation:(double)a0;
- (void)refreshMusicCover;
- (void)updateCurrentSelectEffectPack:(id)a0;
- (id)propRecommendMusicWithCurrentEffectID;
- (void)updateSelectMusicIfNeed;
- (void)handleAutoApplyWeakBindMusicForEffect:(id)a0;
- (void)cancelForceBindMusic:(id)a0;
- (void)videoMutedTip:(id)a0;
- (id)caculateMusicId;
- (void)recordComponentWillAppear;
- (void)trackChangeMusic:(BOOL)a0;
- (BOOL)shouldHideSelectMusicButtonWithAnimationState:(BOOL)a0;
- (BOOL)needFragmentInfo;
- (void)bindEditMusicViewModel:(id)a0 musicPanelService:(id)a1;
- (void)trackWhenUseMusic:(id)a0 extraInfo:(id)a1;
- (void)handlePickMusic:(id)a0 error:(id)a1 completionBlock:(id /* block */)a2;
- (void)handleCancelMusic:(id)a0 muteBGM:(BOOL)a1 trackInfo:(id)a2;
- (void)playPropMusicIfNeeded;
- (void)startBGMIfNeeded;
- (void)cleanCachedMusic;
- (void)startReuseFeedMusicFlowIfNeed;
- (void)autoApplyWeakBindMusic:(id)a0;
- (void)updateWeakBindingMusic:(id)a0;
- (void)updateSelectMusicEnableIfNeed;
- (void)refreshMusicCoverWithMusic:(id)a0;
- (void)pickMusic:(id)a0 complete:(id /* block */)a1;
- (void)unselectMusic:(id)a0 muteBGM:(BOOL)a1 trackInfo:(id)a2;
- (void)selectForceBindMusic:(id)a0 error:(id)a1;
- (void)finishDownloadingPropRecommendMusicWithError:(id)a0;
- (void)updateForceBindMusicRange;
- (id)musicDurationWithAsset:(id)a0;
- (void)downloadPropRecommendedMusic;
- (BOOL)enableAsyncPickMusicCurrent;
- (void)trackWhenPropAutoLoadMusic:(id)a0 currentPropID:(id)a1 status:(long long)a2 duration:(long long)a3;
- (void)handleAutoSelectWeakBindMusic:(id)a0 error:(id)a1 completionBlock:(id /* block */)a2;
- (void)trackWhenEffecWeakBindMusicIsOffLineWithEffectID:(id)a0 Music:(id)a1;
- (void)effectAutoBindMusicSendTrackWithMusic:(id)a0 propID:(id)a1;
- (BOOL)enableAsyncLoadingAnimation;
- (void)downloadAndUseCurrentPropRecommendedMusic;
- (BOOL)checkShouldShowSelectMusicButtonDefault;
- (BOOL)shouldUseCurrentFeedMusic;
- (void)preFetchFeedMusicWithCompletion:(id /* block */)a0;
- (void)preFetchFeedStickerWithCompletion:(id /* block */)a0;
- (void)showFeedMusicViewIfNeeded;
- (BOOL)canUseFeedSticker:(id)a0;
- (void)pickForceBindMusic:(id)a0 isForceBind:(BOOL)a1 error:(id)a2;
- (void)switchAIRecordFrameTypeIfNeeded;
- (void)removeFrames:(BOOL)a0;
- (void)updateForceBindingMusic:(id)a0;
- (void).cxx_destruct;
- (id)initWithServiceProvider:(id)a0;
- (void)dealloc;
- (id)musicAsset;

@end
