@class NSURL, DownloadGlobalParameters, NSObject, TTDownloadTaskConfig, TTDownloadLogLite, TTDownloadTrackModel, NSMutableArray, DownloadResultNotification, NSString, TTSpeedMonitor, NSArray, TTDownloadDynamicThrottle, TTDownloadTaskExtendConfig, NSLock, DownloadProgressInfo;
@protocol OS_dispatch_source, TTDownloadTaskProtocol, OS_dispatch_semaphore;

@interface TTDownloadTask : NSObject

@property (retain, nonatomic) NSObject<OS_dispatch_source> *timer;
@property (copy, nonatomic) NSArray *urlLists;
@property (copy, nonatomic) NSString *fileName;
@property (nonatomic) BOOL isResume;
@property (nonatomic) BOOL isUseKey;
@property (nonatomic) char getLengthRetryMax;
@property (nonatomic) BOOL isStartDownloadingFlag;
@property (nonatomic) long long throttleNetSpeed;
@property (retain, nonatomic) DownloadResultNotification *resultNotification;
@property (retain, nonatomic) DownloadProgressInfo *progressInfo;
@property (copy, nonatomic) NSString *cacheFullPath;
@property (copy, nonatomic) NSString *cacheBackupDir;
@property int sliceCountHasDownloaded;
@property int sliceCancelCount;
@property int sliceDownloadFailedCount;
@property (retain) NSMutableArray *downloadSliceTaskArray;
@property (retain) NSMutableArray *downloadSliceBgTaskArray;
@property (retain) NSMutableArray *httpResponseArray;
@property BOOL isDelete;
@property (retain) NSObject<OS_dispatch_semaphore> *getContentLengthSem;
@property (copy) NSString *fileMd5Value;
@property (nonatomic) long long lastHadDownloadedLength;
@property (nonatomic) char sliceDownloadEndCount;
@property (retain) id<TTDownloadTaskProtocol> requestTask;
@property BOOL isAppBeActiveSemWait;
@property long long currentNetType;
@property BOOL isTrackerEnable;
@property BOOL isReportTrackerEnable;
@property BOOL isServerSupportRangeDefault;
@property (retain) TTDownloadDynamicThrottle *dynamicThrottle;
@property BOOL isDynamicThrottleEnable;
@property (copy) NSString *etag;
@property (copy) NSString *lastModifiedTime;
@property (copy) NSString *maxAgeTime;
@property BOOL isCacheInvalid;
@property BOOL isContentLengthInvalid;
@property BOOL isFileSizeOverflow;
@property BOOL isCheckRangeFailed;
@property BOOL isRcvHeaderCallback;
@property BOOL isCheckCacheFromNet;
@property (copy) NSString *originEtag;
@property (copy) NSString *originMaxAge;
@property BOOL isMergingSlicesAtForeground;
@property BOOL isNoNetCancel;
@property (copy, nonatomic) id /* block */ TTMd5Callback;
@property BOOL isSkipSSLErrorInternal;
@property unsigned long long backgroundTempTask;
@property (nonatomic) int pcdnTaskCount;
@property (nonatomic) int cdnTaskCount;
@property (nonatomic) double pcdnTotalTime;
@property (nonatomic) double pcdnStartTime;
@property (nonatomic) double cdnTotalTime;
@property (nonatomic) double cdnStartTime;
@property (retain) NSLock *pcdnLock;
@property (retain, nonatomic) TTSpeedMonitor *speedMonitor;
@property (nonatomic) BOOL tracker_opt_enable;
@property (nonatomic) long long originOffset;
@property (nonatomic) double startDownloadTime;
@property double lastProgressTime;
@property (nonatomic) BOOL isNegotiateCache;
@property (copy) NSString *headersFilePath;
@property (nonatomic) long long totalExcessBytes;
@property (copy) NSString *urlKey;
@property (retain) NSURL *url;
@property (copy) NSString *secondUrl;
@property (nonatomic) long long firstSliceNeedDownloadLength;
@property (retain) DownloadGlobalParameters *userParameters;
@property (retain) TTDownloadTaskConfig *taskConfig;
@property (retain) TTDownloadTrackModel *trackModel;
@property (copy) NSString *downloadTaskFullPath;
@property (copy) NSString *downloadTaskSliceFullPath;
@property BOOL isAppAtBackground;
@property (retain) NSObject<OS_dispatch_semaphore> *backgroundTaskCancelSem;
@property char backgroundDownloadedCounter;
@property char backgroundFailedCounter;
@property BOOL isRestartTask;
@property BOOL isMobileSwitchToWifiCancel;
@property BOOL isWifiOnlyCancel;
@property BOOL isCancelTask;
@property BOOL isSkipGetContentLength;
@property BOOL isBackgroundMerging;
@property BOOL isStopWhileLoop;
@property BOOL isServerSupportAcceptRange;
@property (nonatomic) long long needDownloadLengthTotal;
@property long long contentTotalLength;
@property (nonatomic) int realSliceCount;
@property (copy) id /* block */ progressBlock;
@property (copy) id /* block */ resultBlock;
@property (copy, nonatomic) id /* block */ onHeaderCallback;
@property (retain) TTDownloadTaskExtendConfig *originExtendConfig;
@property (retain) NSObject<OS_dispatch_semaphore> *sem;
@property (retain) TTDownloadLogLite *dllog;
@property BOOL isRetryCanRestore;
@property long long netErrorCode;
@property (copy) id /* block */ onPcdnStart;
@property (copy) id /* block */ onPcdnEnd;
@property (copy) id /* block */ onCdnStart;
@property (copy) id /* block */ onCdnEnd;
@property BOOL isTaskThreadOpt;

+ (double)getDownloadCacheLifeTimeMax:(id)a0 downloadUrl:(id)a1;
+ (id)getUrgentModeHeaders:(id)a0 cacheHeaders:(id)a1 downloadUrl:(id)a2;

- (void)endBackgroundUpdateTask;
- (BOOL)isIgnoreMaxAgeCheck;
- (void)appReachabilityChanged:(id)a0;
- (BOOL)tryRestoreTask;
- (BOOL)isLastRetryEnable;
- (void)getFullPath;
- (void)deleteTask:(id /* block */)a0;
- (id)initWithObjectDownloadTaskConfig:(id)a0;
- (void)startTask:(id)a0 urlLists:(id)a1 fileName:(id)a2 md5Value:(id)a3 isResume:(BOOL)a4 isUseKey:(BOOL)a5 progressBlock:(id /* block */)a6 resultBlock:(id /* block */)a7;
- (void)sliceCountHasDownloadedIncrease;
- (void)backgroundDownloadedCounterIncrease;
- (BOOL)isRangeDownloadEnable;
- (long long)getStartOffset;
- (void)updateDownloadTaskStatus:(long long)a0;
- (id)createSemWithRetry;
- (long long)getThrottleNetSpeed;
- (BOOL)getIsSkipSSLError;
- (void)startTaskImpl;
- (void)tryLastRetry;
- (void)resetDownloadTaskConfig;
- (BOOL)startSingleSliceTask:(id)a0;
- (void)onDownloadProcessEnd;
- (long long)mergeAllSlice;
- (void)asyncStatusReport:(long long)a0;
- (void)refreshTrackModel:(id)a0;
- (id)createTrackModel;
- (char)getUrlRetryTimes;
- (long long)getContentLengthWaitMaxInterval;
- (char)getSliceMaxRetryTimes;
- (long long)getSliceMaxNumber;
- (double)getRetryTimeoutInterval;
- (double)getRetryTimeoutIntervalIncrement;
- (BOOL)getIsHttps2HttpFallback;
- (BOOL)getIsDownloadWifiOnly;
- (char)getRestoreTimesAutomatic;
- (BOOL)getIsBackgroundDownloadEnable;
- (BOOL)replaceScheme:(id)a0;
- (BOOL)httpsDegrade;
- (BOOL)getContentLengthWithRetry:(id)a0;
- (void)getContentLength:(id)a0;
- (long long)getRangeLength:(long long)a0 endRange:(long long)a1;
- (BOOL)isPreCheckFileLength;
- (BOOL)getIsCheckCacheValid;
- (void)checkCache;
- (BOOL)getIsRetainCacheIfCheckFailed;
- (void)getHeaderFields:(id)a0;
- (void)addHttpResponse:(id)a0;
- (id)setRangeAndMergeUserHeader;
- (BOOL)getIsCommonParamEnable;
- (short)getTTNetProtectTimeout;
- (short)getTTNetRcvHeaderTimeout;
- (short)getTTNetReadDataTimeout;
- (short)getTTNetRequestTimeout;
- (void)updateSliceConfig;
- (id)getMaxAgeTiming:(id)a0;
- (void)updateContentLength:(id)a0;
- (void)updateSupportRange;
- (BOOL)rangeCheck:(BOOL)a0 contentLength:(long long)a1 startOffset:(long long)a2 endOffset:(long long)a3;
- (BOOL)getIsSliced;
- (long long)getMinDevisionSize;
- (void)countSliceNumberAndSize;
- (void)fillSliceInfo;
- (void)fillSliceThrottleNetSpeed:(int)a0;
- (void)processFinishEventIsSaveDB:(BOOL)a0;
- (void)processFailEventWithCode:(long long)a0 failMsg:(id)a1 isSaveDB:(BOOL)a2;
- (void)clearTaskConfig;
- (BOOL)restartTask;
- (id)mergePcdnTracker;
- (void)onceRunInTimer;
- (void)tryUpdateIsCanRetry;
- (void)checkUserPathAndTryToMove:(long long)a0;
- (void)tryDynamicThrottle;
- (void)fetchDownloadProgressInfo;
- (BOOL)fillSliceInfoByRealFileSize:(BOOL)a0 nserror:(id *)a1;
- (BOOL)checkBackgroundDownloadFinished;
- (void)checkAndStart;
- (void)setRestartImmediately;
- (void)delayStartBackground;
- (void)startBackgroundDownload;
- (void)ignoreFgTaskCallback;
- (void)cancelTaskWithNeedTrack:(BOOL)a0;
- (BOOL)startBackgroundTaskImpl;
- (void)cancelAllBackgroundTask;
- (void)ignoreAllBackgroundTask;
- (BOOL)tryContinueForegroundDownloading;
- (BOOL)getIsRestartImmediatelyWhenNetworkChange;
- (BOOL)getIsUseTracker;
- (BOOL)setThrottleNetSpeed2:(long long)a0;
- (void)urgentModeProgressReport:(id)a0;
- (void)syncUrgentModeStatusReport:(long long)a0 fullPath:(id)a1;
- (void)mergeTncAndUserConfig;
- (void)trySwitchCdnType;
- (void)initTask;
- (BOOL)getIsTTNetUrgentModeEnable;
- (BOOL)callTTNetInterface;
- (void)configTrackModel;
- (void)processCreateEventIsSaveDB:(BOOL)a0;
- (void)applicationEnterBackground_;
- (void)applicationDidBecomeActive_;
- (void)checkDownloadDir;
- (BOOL)getIsUrgentModeEnable;
- (BOOL)getIsClearCacheIfNoMaxAge;
- (long long)checkCacheFromNet;
- (BOOL)getIsSkipGetContentLength;
- (void)deleteDownloadDir;
- (void)processStartEventIsSaveDB:(BOOL)a0;
- (void)processFirstStartEventIsSaveDB:(BOOL)a0;
- (BOOL)getIsServerSupportRangeDefault;
- (BOOL)parserHeader:(id)a0;
- (BOOL)checkCacheInHeaderCallback;
- (BOOL)calculateContentLength;
- (BOOL)createDownloadTaskConfig;
- (BOOL)createDownloadTaskDir;
- (BOOL)createRestoreFlags;
- (void)getDownloadInfo:(long long *)a0 totalLen:(long long *)a1;
- (BOOL)createSliceDownloadTask;
- (void)createDynamicThrottle;
- (void)downloadResultReport:(long long)a0 reportStatusCode:(long long)a1;
- (BOOL)checkDownloadFinished;
- (id)createNewFgSliceTask:(id)a0;
- (long long)getRetryInterval:(id)a0;
- (void)checkAndAdjustThrottleSpeed;
- (BOOL)isNeedBalanceThrottleSpeed;
- (long long)getSliceTaskDiskStrictEnableSize;
- (long long)mergeSubSliceDiskStrictImpl;
- (long long)mergeSubSliceStableImpl;
- (long long)getMergeDataLength;
- (BOOL)checkLastSubSlice;
- (long long)mergeSubSliceImpl;
- (void)p_sendMergeAllSliceEventWithStartInterval:(double)a0;
- (long long)md5Check:(id)a0;
- (void)processCancelEventIsSaveDB:(BOOL)a0;
- (long long)getRealNetSpeed:(long long)a0;
- (void)sliceCancelCountIncrease;
- (void)sliceDownloadFailedCountIncrease;
- (void)addBackgroundDownloadedBytes:(long long)a0;
- (void)backgroundFailedCounterIncrease;
- (BOOL)isFreeSpaceEnough:(long long)a0;
- (BOOL)getIsBackgroundDownloadWifiOnlyDisable;
- (void)updateDownloadConfig:(id)a0;
- (void)saveHeaders:(id)a0;
- (void)addExcessBytes:(long long)a0;
- (void)setThrottleSpeed:(long long)a0;
- (void).cxx_destruct;
- (void)startTimer;
- (void)setBlock:(id /* block */)a0;
- (void)dealloc;
- (void)cancelTask;

@end
