@class MMFinderLiveTask, MMFinderLiveTaskId, MMFinderLiveKTVBaseScorer, MMFinderLiveKSKitMusicSong, MMFinderLiveKTVAudioSettingEngine, MMFinderLiveKTVBox, MMFinderLiveChorusBGMEngine, FinderLiveKtvSongScoreReportRequest_ScoreInfo, MMFinderLiveKTVAudioEffectBaseProcesser, NSMutableArray, FinderLiveKtvSongScoreReportRequest_ExtReportInfo, NSString, NSSet, MMLiveStorageCleanupPinningToken, NSRecursiveLock, NSData, MMFinderLiveKTVBGMEngine, MMFinderLiveKTVReporter;
@protocol MMLiveUniqueTaskId;

@interface MMFinderLiveKSKitAudioEngine : NSObject <MMFinderLiveKTVScorerDelegate, MMFinderLiveKTVBGMEngineDelegate, MMFinderLiveKTVProcesserDelegate, MMFinderLiveChorusBGMEngineDelegate, MMFinderLiveKTVAudioSettingEngineDelegate, MMFinderLiveKTVStateExt, MMLiveTaskMgrExt>

@property (retain, nonatomic) id<MMLiveUniqueTaskId> taskId;
@property (readonly, nonatomic) MMFinderLiveTaskId *finderTaskId;
@property (readonly, nonatomic) MMFinderLiveTask *liveTask;
@property (weak, nonatomic) MMFinderLiveKTVBox *ktvBox;
@property (retain, nonatomic) MMFinderLiveKTVAudioSettingEngine *audioSettingEngine;
@property (retain, nonatomic) MMFinderLiveKTVBGMEngine *bgmEngine;
@property (retain, nonatomic) MMFinderLiveChorusBGMEngine *chorusBGMEngine;
@property (nonatomic) BOOL useMMKProcesser;
@property (nonatomic) BOOL useTSKProcesser;
@property (readonly, nonatomic) BOOL useMultiProcesser;
@property (retain, nonatomic) MMFinderLiveKTVAudioEffectBaseProcesser *mainProcesser;
@property (retain, nonatomic) MMFinderLiveKTVAudioEffectBaseProcesser *voiceEarProcesser;
@property (retain, nonatomic) NSMutableArray *processerList;
@property (nonatomic) BOOL useMMKScorer;
@property (nonatomic) BOOL useTSKScorer;
@property (retain, nonatomic) NSMutableArray *scorerList;
@property (retain, nonatomic) MMFinderLiveKTVBaseScorer *mainScorer;
@property (retain, nonatomic) MMFinderLiveKTVBaseScorer *remoteLyricParseScorer;
@property (nonatomic) BOOL isSingBySelf;
@property (nonatomic) BOOL isSinging;
@property (nonatomic) BOOL isSingingStart;
@property (nonatomic) BOOL isPause;
@property (retain, nonatomic) MMFinderLiveKSKitMusicSong *currMusicSong;
@property (nonatomic) long long currSingMode;
@property (nonatomic) BOOL asMajor;
@property (nonatomic) unsigned long long currFrameSeq;
@property (nonatomic) double lastTimeInterval;
@property (nonatomic) int lastBGMTimePosition;
@property (nonatomic) int lastTimePosition;
@property (nonatomic) int pcmFrameSize;
@property (nonatomic) BOOL enableTestInput;
@property (retain, nonatomic) NSData *testPCMData;
@property (retain, nonatomic) MMLiveStorageCleanupPinningToken *songResourcesPinningToken;
@property BOOL isCurrInValidTimeRange;
@property BOOL isMicMuted;
@property (retain, nonatomic) FinderLiveKtvSongScoreReportRequest_ScoreInfo *singingScoreInfo;
@property (retain, nonatomic) NSRecursiveLock *scoreInfoLock;
@property (retain, nonatomic) FinderLiveKtvSongScoreReportRequest_ExtReportInfo *singingExtReportInfo;
@property (nonatomic) BOOL supportSing;
@property (retain) MMFinderLiveKTVReporter *reporter;
@property (nonatomic) BOOL openA2dpBluetoothMode;
@property (nonatomic) BOOL useAd2pBluetooth;
@property (nonatomic) BOOL hasToastForAd2pBluetooth;
@property (nonatomic) BOOL isBGMPublishDelayEnabled;
@property (readonly, nonatomic) BOOL isMajorSingAsLeadSinger;
@property (nonatomic) int wonderfulBeginTime;
@property (nonatomic) int wonderfulEndTime;
@property (nonatomic) BOOL enterChorusNetworkCheckPeriod;
@property (nonatomic) unsigned long long lastAudioPts;
@property (nonatomic) unsigned long long ntpSeq;
@property (nonatomic) BOOL isMinorPaused;
@property (nonatomic) BOOL isInLive;
@property (readonly, nonatomic) NSString *currUniqueId;
@property (readonly, nonatomic) float accompanyVomlueRatioVar;
@property (readonly, nonatomic) float humanVoiceRatioVar;
@property (readonly, nonatomic) int toneShiftVar;
@property (readonly, nonatomic) int minToneShift;
@property (readonly, nonatomic) int maxToneShift;
@property (readonly, nonatomic) unsigned long long optimizeReverbItemVar;
@property (readonly, nonatomic) BOOL isVoiceEarMonitorEnabled;
@property (readonly, nonatomic) BOOL isVoiceEarMonitorUsabled;
@property (readonly, nonatomic) BOOL actualVoiceEarMonitorEnable;
@property (readonly, nonatomic) BOOL isHeadHeadsetUsabled;
@property (readonly, nonatomic) long long musicChannel;
@property (readonly, nonatomic) NSSet *supportedReverbTypes;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (void)notifyAudioRouteChanged:(long long)a0 fromRoute:(long long)a1;
+ (id)createDefaultAudioSettingCache;
+ (unsigned long long)transferSingStartRetToPlayErrorType:(long long)a0;
+ (BOOL)isAudioSessionCategoryNeedForbidModifyOptionsForA2dp:(id)a0;
+ (BOOL)checkBgmVolumeIsValid:(int)a0;
+ (BOOL)checkBgmPitchIsValid:(int)a0;
+ (BOOL)checkBgmChanelIsValid:(int)a0;
+ (void)recordSingingPersistTime:(unsigned int)a0 byAudioRoute:(long long)a1 toSingExtReportInfo:(id)a2;

- (id)initWithTaskId:(id)a0 supportSing:(BOOL)a1;
- (void)dealloc;
- (void)initDefaultDatas;
- (void)registerExtensions;
- (void)unRegisterExtensions;
- (void)enterLive;
- (void)startSingBySelf:(id)a0 force:(BOOL)a1 mode:(long long)a2 asMajor:(BOOL)a3 completion:(id /* block */)a4;
- (void)startSong:(id)a0 force:(BOOL)a1 scoreEngineFlag:(unsigned int)a2 completion:(id /* block */)a3;
- (long long)stopSing:(id)a0 force:(BOOL)a1 notify:(BOOL)a2;
- (void)pauseCurrSong;
- (void)resumeCurrSong;
- (void)finishScore:(id /* block */)a0;
- (void)onAudioRouteChanged:(long long)a0 fromRoute:(long long)a1;
- (int)getSingingScoreEngineFlag;
- (int)getSingingReverbEngineFlag;
- (id)getSingingFrameUnitParam;
- (id)getAllMusicNotesForCurrSong;
- (id)getAllLyricSentencesForCurrSong;
- (void)loadAudioParamSettingCache;
- (void)configEngingSwitchs;
- (void)configSupportUtils;
- (void)setAccompanyVomlueRatio:(float)a0;
- (void)setHumanVoiceRatio:(float)a0;
- (void)setAccompanyOrOrigin:(long long)a0;
- (void)setOptimizeReverbType:(unsigned long long)a0;
- (void)setToneShift:(int)a0;
- (void)enableVoiceEarMonitor:(BOOL)a0;
- (BOOL)isCurrNeedLimitScore;
- (void)updateBGMMute:(BOOL)a0;
- (void)updateCurrInValidTimeRange:(BOOL)a0;
- (void)updateIsMicMuted;
- (int)currActualVolumeVoice;
- (void)onBaseAdapterAudioSessionCategoryDidSet:(id)a0;
- (void)clearDatasForExitKTV;
- (void)clearDatasForExitLive;
- (unsigned int)currAudioType;
- (void)seekToPosition:(int)a0;
- (void)onJumpToWonderfulPositionBegin:(int)a0 end:(int)a1;
- (int)checkAndUpdateWonderfulSegmentIfNeed:(id)a0;
- (void)setBgmPlayoutVolume:(long long)a0 business:(long long)a1;
- (void)unSetBgmPlayoutVolume:(long long)a0;
- (void)updateCurrMusicSong:(id)a0;
- (void)prepareSingingData:(unsigned long long)a0 completion:(id /* block */)a1;
- (void)clearSingingData;
- (void)innerStopSing;
- (void)recoverAudioSetting;
- (void)onScoreFinish:(int)a0 avgScore:(int)a1 allSentenceCnt:(unsigned int)a2;
- (void)notifySingingStart;
- (void)notifySingingStop:(id)a0;
- (void)notifySingingEnd:(id)a0;
- (void)notifySongEnd:(id)a0;
- (void)increaseFrameSeq;
- (void)updateAd2pBlueToothToastFlag:(BOOL)a0;
- (id)ktvReporter;
- (unsigned long long)viewScene;
- (BOOL)isSingingSongAsMinor:(id)a0;
- (BOOL)isListeningSong:(id)a0;
- (BOOL)isSupportEnterLive;
- (void)createSoloSingEngine;
- (BOOL)startSoloSingEngine;
- (void)createChorusSingEngine;
- (BOOL)startChorusSingEngine;
- (BOOL)startSingEngine;
- (long long)startEngineSinging;
- (void)stopEngingSinging;
- (void)checkAndAdjustAudioSettingForSingBegin;
- (void)checkAndAdjustBGMSettingForSingBegin;
- (void)updateChorusEngineState;
- (void)destroyChorusBGMEngineIfNeed;
- (void)enableAudioCustomProcess;
- (void)initAudioSettingEngine;
- (void)destroyAudioSettingEngine;
- (void)initAudioScorer;
- (void)initDebugDatas;
- (void)startAudioScorer;
- (void)stopAudioScorer;
- (void)startLyricParseScorer:(unsigned int)a0;
- (void)stopLyricParseScorer;
- (void)initLyricParseScorer:(unsigned int)a0;
- (BOOL)isScorer:(id)a0 fitWithEngineFlag:(unsigned int)a1;
- (void)processScore:(char *)a0 inSize:(int)a1 timeOffsetMS:(double)a2;
- (void)updateScoreStrategy;
- (void)updateBluetoothStrategy;
- (void)startAudioEffectProcesser;
- (void)stopAudioEffectProcesser;
- (void)initAudioEffectProcesser;
- (void)processEffect:(id)a0;
- (id)getAudioProcesser;
- (void)processFrameEffect:(id)a0 byProcesser:(id)a1;
- (long long)convertSampleRateToTrtcSampleRate:(int)a0;
- (void)startVoiceEarEffectProcesser;
- (void)stopVoiceEarEffectProcesser;
- (void)initVoiceEarEffectProcesser;
- (void)processVoiceEarEffect:(id)a0;
- (void)onLiveTrtcCapturedAudioFrame:(id)a0;
- (void)onLiveTrtcLocalProcessedAudioFrame:(id)a0;
- (long long)audioFrameSendTimeCollectInterval;
- (void)onLiveTrtcVoiceEarMonitorAudioFrame:(id)a0;
- (void)increaseTimePositionOffset:(int)a0;
- (void)initTimePositionIfNeed:(int)a0;
- (void)adjustTimePositionIfNeed:(int)a0;
- (void)updateTimePosition:(int)a0 notify:(BOOL)a1;
- (void)scorer:(id)a0 didGetNewScore:(int)a1 sentenceIndex:(int)a2 totalScore:(int)a3;
- (BOOL)checkScoreAtSentenceIndexNeedIgnore:(int)a0;
- (void)scorer:(id)a0 didFinishWithTotalScore:(int)a1 averageScore:(double)a2;
- (void)scorer:(id)a0 targetHitIn:(int)a1 duration:(int)a2 isHit:(BOOL)a3 noteHeight:(float)a4 noteValue:(float)a5;
- (BOOL)isScorerNeedIgnoreFrameProcess;
- (double)getValidVolumnThreshold;
- (BOOL)isProcesserNeedIgnoreFrameProcess;
- (void)onBGMProgressUpdateFromSingBySelf:(int)a0;
- (void)onBGMProgressUpdate:(int)a0;
- (BOOL)onAudioSettingCheckCurrentIsSinging;
- (void)onVoiceEarMonitorEnableChanged:(BOOL)a0;
- (void)onVoiceEarMonitorUsableChanged:(BOOL)a0;
- (void)onBluetoothHeadsetAvailableChanged:(BOOL)a0;
- (void)onPlayBGMProgress:(long long)a0 allDuration:(long long)a1;
- (void)onPlayBGMToSingingEnd;
- (void)onPlayBGMEnd;
- (void)onPlayBGMStart:(long long)a0 audioInfo:(id)a1;
- (void)onPlayBGMStartSucc;
- (void)onPlayBGMStartFail;
- (void)onPlayBGMPaused;
- (void)onPlayBGMResumed:(long long)a0;
- (void)onPlayBGMStoped;
- (void)onBgmPitchChanged:(int)a0;
- (void)checkBlueToothHeadSetWithAd2pAvailable;
- (void)onSingingAudioRouteChangedTo:(long long)a0 from:(long long)a1 persist:(unsigned int)a2;
- (void)onChorusBGM:(id)a0 requireLoadMusic:(id)a1;
- (void)onChorusBGMStart:(id)a0 audioInfo:(id)a1;
- (void)onChorusBGMToSingingEnd:(id)a0;
- (void)onChorusBGMEnd:(id)a0;
- (void)onChorusBGMUpdate:(id)a0 progress:(long long)a1 allDuration:(long long)a2;
- (void)onChorusBGMPaused:(id)a0;
- (void)onChorusBGMResumed:(id)a0 progress:(long long)a1;
- (void)onChorusBGMStoped:(id)a0 bgmAudioInfo:(id)a1 role:(unsigned long long)a2 singingEnd:(BOOL)a3 songEnd:(BOOL)a4;
- (void)onChorusBGMProcessError:(id)a0 errCode:(long long)a1;
- (void)enableBGMPublishDelay:(BOOL)a0;
- (void)onChorusBGMPitchChanged:(int)a0;
- (void)onChorusBGMVolumeChanged:(int)a0;
- (void)onChorusBGMChannelChanged:(long long)a0;
- (void)onLiveTaskId:(id)a0 ktvState:(id)a1 majorBgmVolumeChanged:(int)a2;
- (void)onLiveTaskId:(id)a0 ktvState:(id)a1 majorBgmChannelChanged:(long long)a2;
- (void)onLiveTaskId:(id)a0 ktvState:(id)a1 majorBgmPitchChanged:(int)a2;
- (void)onLiveTaskId:(id)a0 ktvState:(id)a1 wonderfulPositionBeginUpdated:(int)a2 end:(int)a3;
- (void)checkAndResetForWonderfulPosition;
- (void)onLiveTask:(id)a0 networkLocalQuality:(id)a1 remoteQuality:(id)a2;
- (void)enterNetworkCheckPeriodForExitChorusMinor;
- (void)exitNetworkCheckPeriodForExitChorusMinor;
- (void)exitChorusMinorAfterNetworkCheck;
- (void)updateScoreInfo:(id)a0;
- (void)recordNewScore:(int)a0 sentenceIndex:(int)a1 totalScore:(int)a2;
- (void)recordSingingProgress:(int)a0;
- (void)recordSingEnd:(id)a0 sentenceCnt:(unsigned int)a1;
- (id)getScoreInfo;
- (void)createSingingExtReportInfo;
- (void)recordAudioRouteChangeTo:(long long)a0 from:(long long)a1 lastPersist:(unsigned int)a2;
- (void)updateFinalSingingExtReportInfo;
- (void)debug_initTestPCMIfNeed:(id)a0;
- (void)debug_modifyFrameDataIfNeed:(id)a0;
- (void).cxx_destruct;

@end
