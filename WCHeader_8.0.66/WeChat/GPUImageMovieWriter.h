@class GPUImageFramebuffer, NSString, NSArray, NSURL, GPUImageContext, AVAssetWriter, NSObject, GLProgram, AVAssetWriterInput, AVAssetWriterInputPixelBufferAdaptor;
@protocol GPUImageMovieWriterDelegate, OS_dispatch_queue;

@interface GPUImageMovieWriter : NSObject <GPUImageInput> {
    BOOL alreadyFinishedRecording;
    NSString *fileType;
    AVAssetWriter *assetWriter;
    AVAssetWriterInput *assetWriterAudioInput;
    AVAssetWriterInput *assetWriterVideoInput;
    AVAssetWriterInputPixelBufferAdaptor *assetWriterPixelBufferInput;
    struct __CVBuffer { } *renderTarget;
    struct __CVBuffer { } *renderTexture;
    struct CGSize { double width; double height; } videoSize;
    unsigned long long inputRotation;
    BOOL __isFirst;
    unsigned int movieFramebuffer;
    unsigned int movieRenderbuffer;
    GLProgram *colorSwizzlingProgram;
    int colorSwizzlingPositionAttribute;
    int colorSwizzlingTextureCoordinateAttribute;
    int colorSwizzlingInputTextureUniform;
    GPUImageFramebuffer *firstInputFramebuffer;
    BOOL discont;
    struct { long long value; int timescale; unsigned int flags; long long epoch; } startTime;
    struct { long long value; int timescale; unsigned int flags; long long epoch; } previousFrameTime;
    struct { long long value; int timescale; unsigned int flags; long long epoch; } previousAudioTime;
    struct { long long value; int timescale; unsigned int flags; long long epoch; } offsetTime;
    NSObject<OS_dispatch_queue> *audioQueue;
    NSObject<OS_dispatch_queue> *videoQueue;
    BOOL audioEncodingIsFinished;
    BOOL videoEncodingIsFinished;
    BOOL isRecording;
}

@property (nonatomic) BOOL hasAudioTrack;
@property (nonatomic) BOOL shouldPassthroughAudio;
@property (nonatomic) BOOL shouldInvalidateAudioSampleWhenDone;
@property (copy, nonatomic) id /* block */ completionBlock;
@property (copy, nonatomic) id /* block */ failureBlock;
@property (nonatomic) id<GPUImageMovieWriterDelegate> delegate;
@property (nonatomic) BOOL encodingLiveVideo;
@property (copy, nonatomic) id /* block */ videoInputReadyCallback;
@property (copy, nonatomic) id /* block */ audioInputReadyCallback;
@property (copy, nonatomic) id /* block */ audioProcessingCallback;
@property (nonatomic) BOOL enabled;
@property (readonly, nonatomic) AVAssetWriter *assetWriter;
@property (readonly, nonatomic) struct { long long x0; int x1; unsigned int x2; long long x3; } duration;
@property (nonatomic) struct CGAffineTransform { double x0; double x1; double x2; double x3; double x4; double x5; } transform;
@property (copy, nonatomic) NSArray *metaData;
@property (nonatomic, getter=isPaused) BOOL paused;
@property (retain, nonatomic) GPUImageContext *movieWriterContext;
@property (retain, nonatomic) NSURL *movieURL;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

- (id)initWithMovieURL:(id)a0 size:(struct CGSize { double x0; double x1; })a1;
- (id)initWithMovieURL:(id)a0 size:(struct CGSize { double x0; double x1; })a1 fileType:(id)a2 outputSettings:(id)a3;
- (void)dealloc;
- (void)initializeMovieWithOutputSettings:(id)a0;
- (void)startRecording;
- (void)startRecordingInOrientation:(struct CGAffineTransform { double x0; double x1; double x2; double x3; double x4; double x5; })a0;
- (void)cancelRecording;
- (void)finishRecording;
- (void)finishRecordingWithCompletionHandler:(id /* block */)a0;
- (void)processAudioBuffer:(struct opaqueCMSampleBuffer { } *)a0;
- (void)enableSynchronizationCallbacks;
- (void)createDataFBO;
- (void)destroyDataFBO;
- (void)setFilterFBO;
- (void)renderAtInternalSizeUsingFramebuffer:(id)a0;
- (void)newFrameReadyAtTime:(struct { long long x0; int x1; unsigned int x2; long long x3; })a0 atIndex:(long long)a1;
- (long long)nextAvailableTextureIndex;
- (void)setInputFramebuffer:(id)a0 atIndex:(long long)a1;
- (int)generateFrameBuffer:(BOOL)a0 newSize:(struct CGSize { double x0; double x1; })a1;
- (void)destroyFrameBuffer;
- (void)setInputRotation:(unsigned long long)a0 atIndex:(long long)a1;
- (void)setInputSize:(struct CGSize { double x0; double x1; })a0 atIndex:(long long)a1;
- (struct CGSize { double x0; double x1; })maximumOutputSize;
- (void)endProcessing;
- (BOOL)shouldIgnoreUpdatesToThisTarget;
- (BOOL)wantsMonochromeInput;
- (void)setCurrentlyReceivingMonochromeInput:(BOOL)a0;
- (void)setHasAudioTrack:(BOOL)a0 audioSettings:(id)a1;
- (struct opaqueCMSampleBuffer { } *)adjustTime:(struct opaqueCMSampleBuffer { } *)a0 by:(struct { long long x0; int x1; unsigned int x2; long long x3; })a1;
- (void).cxx_destruct;

@end
