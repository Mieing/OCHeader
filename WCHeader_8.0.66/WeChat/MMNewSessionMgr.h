@class SessionSortLogic, NSString, MMChatContentUploadLogic, NSArray, NSMutableDictionary, SessionForwardRecordLogic, NSMutableArray, MMSessionDB;

@interface MMNewSessionMgr : MMUserService <IEnterpriseMsgExt, ISessionInfoExt, EmoticonDescMgrExt, MMSessionRefreshExt, WCDBSpecifiedRecoverViewControllerDelegate, MMServiceProtocol, IMsgExt, IContactMgrExt> {
    NSMutableArray *m_arrSession;
    MMSessionDB *m_sessionStorage;
    NSString *m_nsActiveUserName;
    SessionSortLogic *m_oSessionSortLogic;
    unsigned int m_uiTotalUnReadCount;
    unsigned int m_appIconTotalUnreadCount;
    unsigned int m_totalNotifyUnreadSessionCount;
    unsigned int m_totalMutedUnreadMsgCount;
    unsigned int m_totalMutedUnreadSessionCount;
    NSMutableDictionary *m_dicAtMeCount;
    NSMutableDictionary *m_dicNewInvCount;
    NSMutableDictionary *m_dicTransferCount;
    NSMutableDictionary *m_dictAACount;
    NSMutableDictionary *m_dictExclusiveHbCount;
    NSMutableDictionary *m_dictUpdatableMsgDigest;
    NSMutableDictionary *m_dicGroupUndoneCount;
    MMChatContentUploadLogic *m_chatUploadLogic;
    NSArray *m_sessionFilterArray;
    BOOL m_shouldReload;
    BOOL m_shouldChangeUnreadCount;
    NSMutableArray *m_notifySessionChangeArray;
    NSMutableArray *m_notifyNewMsgArrivingArray;
    BOOL m_bNotifySound;
    SessionForwardRecordLogic *m_forwardRecordLogic;
    NSMutableDictionary *m_dicAtMeType;
}

@property BOOL recoverViewControllerShown;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (id)getSessionName:(id)a0;

- (id)getSessionFilterArray;
- (BOOL)isUserShouldHandled:(id)a0;
- (BOOL)isMessageShouldHandled:(id)a0;
- (id)isUserHasSpecalSessionInfo:(id)a0;
- (void)onServiceInit;
- (void)dealloc;
- (void)onServiceClearData;
- (void)refreshServiceTriggerToRefresh:(id)a0;
- (void)p_refreshNewSessionMgr;
- (void)p_notifySessionChangeArrayAddObject:(id)a0;
- (void)p_notifyNewMsg:(id)a0 withNotifyFlag:(long long)a1;
- (unsigned int)GetSessionCount;
- (id)GetSessionAtIndex:(unsigned int)a0;
- (id)GetSessionUserNameAtIndex:(unsigned int)a0;
- (id)GetFirstUntopSessionUserName;
- (id)GetSessionInfoList;
- (void)CleanupPreLoadSessionCache;
- (void)AsyncFulFillSession:(id)a0;
- (void)SyncFulFillSession:(id)a0;
- (long long)getUnreadCountInSession:(id)a0;
- (id)GetSessionByUserName:(id)a0;
- (long long)GetSessionIndexByUserName:(id)a0;
- (unsigned int)GetTotalUnreadCount;
- (unsigned int)GetUnreadNotifySessionCount;
- (unsigned int)GetTotalMutedUnreadMsgCount;
- (unsigned int)GetTotalMutedUnreadSessionCount;
- (unsigned int)GetTotalUnreadCountForAppIcon;
- (unsigned int)GetActiveUserUnreadCount;
- (id)SessionEnumerator;
- (id)mainSessionEnumerator;
- (id)SessionNewArray;
- (void)AddOrModifySession:(id)a0 withNotifyFlag:(long long)a1;
- (void)AddOrModifySession:(id)a0 withNotifyFlag:(long long)a1 immediateRefresh:(BOOL)a2;
- (void)AddOrModifySession:(id)a0 targetContactUserName:(id)a1 withNotifyFlag:(long long)a2;
- (void)AddOrModifySession:(id)a0 targetContactUserName:(id)a1 withNotifyFlag:(long long)a2 immediateRefresh:(BOOL)a3;
- (void)updateTimeForSessionByUserName:(id)a0;
- (void)ChangeSessionUnReadCount:(id)a0 to:(unsigned int)a1;
- (void)clearAtMeCount:(id)a0;
- (void)clearNewInvCount:(id)a0;
- (void)clearNewInvApprove:(id)a0;
- (void)clearTransferCount:(id)a0;
- (void)clearAAMessageCount:(id)a0;
- (void)clearExclusiveHbMessageCount:(id)a0;
- (void)clearUpdatableMsgNotify:(id)a0;
- (void)clearNeedContactVerifyFlag:(id)a0;
- (void)clearGroupUndoneSessionFlag:(id)a0;
- (void)clearChatRoomSpecialAttentionFlag:(id)a0;
- (void)clearEcsGiftUnhandledFlag:(id)a0;
- (void)DeleteSessionOfUser:(id)a0;
- (void)DeleteSessionOfUsernames:(id)a0;
- (void)deleteMMKVDraftOfUsernames:(id)a0;
- (void)DeleteSessionDraftOfUsernames:(id)a0;
- (void)DeleteSessionWithoutDeleteMessage:(id)a0;
- (void)hideSessionOfUsernames:(id)a0;
- (void)hideSession:(id)a0;
- (void)showSession:(id)a0;
- (void)DeleteAllSession;
- (void)p_batchDeleteSessions;
- (void)DeleteMsgButKeepSession:(id)a0;
- (id)GetUserNamesOnSessionList;
- (id)GetSyncUserNamesOnSessionListWithMaxCount:(unsigned int)a0;
- (void)SetActiveSession:(id)a0;
- (BOOL)IsActiveUser:(id)a0;
- (id)GetActiveUser;
- (BOOL)HasActiveUser;
- (unsigned int)GenSendMsgTime;
- (unsigned int)GetSessionModifyTimeInSeconds:(id)a0;
- (BOOL)IsSessionNeedDelayLoad;
- (void)temporaryTopSessionByContact:(id)a0;
- (BOOL)IsSessionWithNullMsg:(id)a0;
- (id)recentForwardSessions;
- (void)deleteExpiredSessionForwardRecord;
- (BOOL)checkContactHasSession:(id)a0;
- (void)TopSessionByName:(id)a0;
- (void)UntopSessionByName:(id)a0;
- (void)UntopSessionByName:(id)a0 needSync:(BOOL)a1;
- (BOOL)IsTopSessionCountExceed;
- (BOOL)isSessionTopable:(id)a0;
- (void)AddSessionToTop:(id)a0;
- (void)unfoldSessionByName:(id)a0;
- (void)unfoldAllSessions;
- (void)foldSessionByNames:(id)a0;
- (long long)foldSessionCount;
- (BOOL)isFoldTopSession;
- (BOOL)shouldFoldSession:(id)a0;
- (BOOL)isSelfToSelfSession:(id)a0;
- (BOOL)shouldUnfoldSessionForNewMsgWrap:(id)a0;
- (id)genSessionInfoByUserName:(id)a0;
- (id)genSessionInfoByContact:(id)a0;
- (id)genSessionInfoByContact:(id)a0 allowEmptyLastMsg:(BOOL)a1;
- (void)tryToBuildSession:(BOOL)a0;
- (void)appFirstBecomeActive;
- (void)p_buildSession:(BOOL)a0;
- (BOOL)checkWhetherTheSessionIsAbnormal:(id)a0;
- (BOOL)checkIfSessionsCorrupted:(id)a0;
- (void)showWCDBSpecifiedRecoverVCAndReport;
- (void)checkLoadData;
- (void)fixUnreadCountForLastSession;
- (void)filterSessionDeleted:(id)a0 modified:(id)a1;
- (void)resortSessions;
- (void)tryGetContactImage:(id)a0;
- (id)getContactByNameForce:(id)a0;
- (void)processContactWhenAddMsg:(id)a0;
- (BOOL)checkStrangerFirstChat:(id)a0;
- (BOOL)realCheckStrangerFirstChat:(id)a0;
- (BOOL)checkContactVerifySysmsgSwitch;
- (void)executeContactVerifyBanner;
- (BOOL)isUserNeedProcess:(id)a0;
- (BOOL)isMsgNeedProcess:(id)a0;
- (BOOL)isNeedSaveSessionInfo:(id)a0;
- (void)processOnAddMsgWithNotifyFlag:(long long)a0 UsrName:(id)a1;
- (BOOL)isNeedCallNewMsgArrival:(id)a0;
- (void)deleteSessionsAtIndexes:(id)a0;
- (unsigned int)getSessionIndexOfUser:(id)a0;
- (void)fulFillSession:(id)a0;
- (void)fulFillSession:(id)a0 loadDetails:(BOOL)a1;
- (void)recountUnReadCount;
- (void)recountUnReadCountAndFireExtension;
- (void)checkAutoClearUnreadForSession:(id)a0;
- (BOOL)InsertOrUpdateSessionDeleteInfo:(id)a0;
- (id)GetSessionDeleteInfo:(id)a0;
- (void)OnMsgNotAddDBNotify:(id)a0 MsgWrap:(id)a1;
- (void)OnAddMsg:(id)a0 MsgWrap:(id)a1;
- (void)OnAddMsgListForSession:(id)a0 NotifyUsrName:(id)a1;
- (void)updateSessions:(id)a0 NotifyUsrName:(id)a1;
- (void)OnModMsg:(id)a0 MsgWrap:(id)a1;
- (void)OnDelMsg:(id)a0;
- (void)OnDelMsg:(id)a0 MsgWrap:(id)a1;
- (void)OnUnReadCountChange:(id)a0;
- (void)checkSessionTop:(id)a0 contact:(id)a1;
- (void)checkSessionTopWithContact:(id)a0;
- (void)onAddMsgDigetstForSession:(id)a0;
- (void)onGetEmoticonDesc:(id)a0 descList:(id)a1;
- (void)onModifyContact:(id)a0;
- (void)onGetDraft:(id)a0 contact:(id)a1;
- (BOOL)shouldUpdateSessionInfo:(id)a0 fromDraftInfo:(id)a1;
- (void)updateSessionInfo:(id)a0 fromDraftInfo:(id)a1;
- (void)onModifyDraft:(id)a0 contact:(id)a1 draftTime:(unsigned int)a2;
- (void)deleteAtUserList:(id)a0;
- (void)setContact:(id)a0 AtUserList:(id)a1;
- (void)addContact:(id)a0 AtUser:(id)a1;
- (void)onDeleteContact:(id)a0;
- (void)onDeleteContactIsShouldKeep:(id)a0;
- (void)OnChangeNotifyStatus:(id)a0 withStatus:(BOOL)a1;
- (void)onContactListUpdate:(unsigned int)a0;
- (void)checkAndMergeTopFlag;
- (void)rebuildAndUpdateSessionInfo;
- (unsigned int)GetUnReadCountExcludingActiveUser:(id)a0;
- (void)updateGroupUndoneSessionFlagForRoom:(id)a0;
- (void)disableGroupUndoneSessionFlagForRoom:(id)a0;
- (void)ModifySessionOpenImChatRoomMigrateWithOpenIMChatRoomUserName:(id)a0 andAssociateChatRoomUserName:(id)a1;
- (void)onRecovered:(BOOL)a0;
- (unsigned int)getTimeElapsedSinceLastSessionListFix;
- (void)setTimeOfLastSessionListFix;
- (void)modifySessionWithoutNotify:(id)a0;
- (void)updateSession:(id)a0 lastMsgSvrId:(long long)a1;
- (void).cxx_destruct;

@end
