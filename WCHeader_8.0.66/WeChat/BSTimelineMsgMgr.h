@class BrandResortConfig, NSMutableDictionary, BTResortPerformanceItem, NSDate, NSDictionary, NSObject, BSTOftenReadBizCache, NSMutableArray, BrandSessionCache, BrandMsgResortContext, NSString, MMFlutterInstance, MemoryMappedKV, MMTimer, BEFlutterBrandNavigator, BSTLExptConfig, NSMutableSet, NSData, MMBaseSessionStorage, BSTLMainSessionExposeItem;
@protocol OS_dispatch_queue;

@interface BSTimelineMsgMgr : MMUserService <IMMNewSessionMgrFilterExt, WXGImportMessageNotification, MMSessionRefreshExt, IMsgExt, IMMNewSessionMgrExt, IContactMgrExt, PBMessageObserverDelegate, MMTipsViewControllerDelegate, MMActionNotifyCommBizExt, MMServiceProtocol, MMImageLoaderObserver>

@property (nonatomic) BOOL shouldCancelRedDotSessionReport;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (nonatomic) BOOL hasShowFirstGuideLine;
@property (nonatomic) BOOL isNeedShowUnreadNotifyRedDotInTimeLine;
@property (retain, nonatomic) NSMutableDictionary *dictExportId2FinderDataItem;
@property (nonatomic) unsigned int serviceInitTs;
@property (nonatomic) BOOL isTlPicPreloadCgiRequesting;
@property (retain, nonatomic) MMTimer *tlPicPreloadSyncGapTimer;
@property (nonatomic) unsigned int tlPicPreloadSyncGapTimerLoopCount;
@property (nonatomic) unsigned int tlPicPreloadUnreadCountBeforeSync;
@property (retain, nonatomic) MMTimer *tlPicPreloadDownloadPicTimer;
@property (nonatomic) unsigned int tlPicPreloadDownloadPicTimerLoopCount;
@property (retain, nonatomic) NSMutableArray *tlPicPreloadDownloadPicUrlArr;
@property (nonatomic) unsigned int tlPicPreloadDownloadStartTimeSec;
@property (nonatomic) unsigned int tlPicPreloadDownloadPicCount;
@property (retain, nonatomic) BSTLMainSessionExposeItem *exposeItemInMainSession;
@property (retain, nonatomic) MemoryMappedKV *digestExposeMMKV;
@property (retain, nonatomic) NSMutableArray *arrRedDotReportItems;
@property (nonatomic) unsigned long long lastRedDotReportTime;
@property (nonatomic) unsigned long long lastInsertRecCardFakeSvrId;
@property (nonatomic) BOOL hasMainBizCellExposed;
@property (nonatomic) BOOL msgExposedNeedReloadTableView;
@property (retain, nonatomic) NSMutableDictionary *cacheBrandFlowListModelFromSvrSupply;
@property (nonatomic) BOOL isCurFlutterAffEnable;
@property (nonatomic) BOOL isLastFlutterAffEnable;
@property (nonatomic) BOOL isAffHasInit;
@property (retain, nonatomic) BSTLExptConfig *exptConfig;
@property (retain, nonatomic) MMFlutterInstance *preloadFlutterInstance;
@property (retain, nonatomic) BSTLExptConfig *preloadExptConfig;
@property (retain, nonatomic) BEFlutterBrandNavigator *flutterNavigator;
@property (retain, nonatomic) MMTimer *checkReleaseInstanceTimer;
@property (nonatomic) unsigned int lastMemoryWarningTs;
@property (nonatomic) BOOL isInDelayPreload;
@property (nonatomic) BOOL shouldPrelayoutMagicCardWhenMainSessionExpose;
@property (nonatomic) BOOL isCurrentResorting;
@property (nonatomic) unsigned long long curResortScene;
@property (nonatomic) unsigned int curResortCgiEvenId;
@property (retain, nonatomic) BrandMsgResortContext *curResortContext;
@property (retain, nonatomic) BrandResortConfig *curResortConfig;
@property (retain, nonatomic) BTResortPerformanceItem *resortPerformance;
@property (copy, nonatomic) id /* block */ tlResortCompleteBlock;
@property (nonatomic) BOOL mainSessionExposed;
@property (retain, nonatomic) NSDictionary *lastMainSessionExposeParams;
@property (nonatomic) BOOL reportCgiConfig;
@property (retain, nonatomic) MemoryMappedKV *exposeCountSlotKV;
@property (retain, nonatomic) MemoryMappedKV *exposeRatioSlotKV;
@property (nonatomic) unsigned int validExposeUpgradeTime;
@property (retain, nonatomic) MemoryMappedKV *mappedKV;
@property (retain, nonatomic) MMBaseSessionStorage *sessionStorage;
@property (retain, nonatomic) BrandSessionCache *mainSessionCache;
@property (retain, nonatomic) NSData *oldSessionCacheData;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *m_workerThread;
@property (nonatomic) BOOL isMigratingData;
@property (nonatomic) BOOL needUpdateMainSession;
@property (retain, nonatomic) NSMutableArray *arrTmpToAddMsg;
@property (nonatomic) unsigned long long lastDeleteTooOldTLRecordTime;
@property (retain, nonatomic) BSTOftenReadBizCache *oftenReadBizCache;
@property (retain, nonatomic) NSData *oldOftenReadBizCacheData;
@property BOOL isTimelinePageActive;
@property (nonatomic) unsigned long long currentTLMinExposedSeqId;
@property (retain, nonatomic) NSDate *lastExpandMoreSubscribedMsgDate;
@property (retain, nonatomic) NSMutableSet *recoFlowFeedbackCardIdHistory;
@property (retain, nonatomic) NSString *brandSessionFullFormattedMessage;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *aff_queue;
@property (nonatomic) BOOL isAllowBSUseNotifyMemoryCache;
@property (nonatomic) BOOL isBSNotifyCacheInited;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

+ (id)bizUserNameForMsgWrap:(id)a0;
+ (BOOL)isBrandNotifyNoPrefixNameWithWrapMsg:(id)a0;
+ (id)getMainSessionNoPrefixContentByMsg:(id)a0;
+ (BOOL)enableTLMagicBrushAd;
+ (BOOL)enableTLMagicBrushBrand;
+ (BOOL)enableTLMagicBrushBrandRecAd;
+ (id)setOnlySubsFilterBizMsgType;
+ (id)getAffBizManagerShareInstance;
+ (BOOL)isBrandTimelineOpen;

- (void)setShouldCancelRedDotSessionReport:(BOOL)a0;
- (BOOL)shouldCancelRedDotSessionReport;
- (void)syncCreationCenterInfoIfNeeded;
- (void)syncCreationCenterInfo:(id)a0 scene:(unsigned int)a1;
- (void)updateCreationCenterInfoWithRedDotCount:(long long)a0 buffer:(id)a1;
- (long long)getCreationCenterNotifyCount;
- (id)getCreationCenterBuffer;
- (id)getLastLiveNotifyMsg;
- (void)deleteBrandSession:(id)a0;
- (void)deleteBrandMsg:(id)a0 msgWrap:(id)a1;
- (BOOL)deleteMsg:(id)a0;
- (BOOL)deleteMsgWithMsgId:(unsigned int)a0;
- (void)notifyAddBrandTimelineMsg:(id)a0;
- (void)clearMsgExposeSlotKV;
- (void)updateMainSessionExposeOnSlotKv:(id)a0 pos:(unsigned int)a1;
- (void)updateMainSessionExposeTimeOnSlotKv:(id)a0 pos:(unsigned int)a1 exposeTimeMs:(unsigned int)a2;
- (id)getDigestExposeInfoByAffMsgId:(unsigned long long)a0;
- (void)setTimelinePageActive:(BOOL)a0;
- (void)clearAllTimelineMsgUnreadStatus;
- (void)setListMsgClearUnread:(BOOL)a0;
- (BOOL)isListMsgClearUnread;
- (void)handleNewMsgByTimeline:(id)a0;
- (BOOL)isTopItemShowLargeCover:(id)a0;
- (unsigned long long)preloadPicCountWithMsg:(id)a0;
- (unsigned long long)sectionShowCount:(id)a0;
- (BOOL)sectionIsFold:(id)a0;
- (long long)brandTLCardHeaderJumpAction;
- (void)ImageDidLoadWithData:(id)a0 Url:(id)a1;
- (void)ImageDidFail:(id)a0;
- (void)updateResortStrategyConfig:(id)a0;
- (id)getResortStrategyConfig;
- (BOOL)isOpenRedDotSample;
- (void)reportResortIdKey:(unsigned int)a0;
- (void)reportResortIdKey:(unsigned int)a0 value:(unsigned int)a1;
- (void)reportTryResortFromScene:(unsigned long long)a0;
- (void)tryRefreshTLPicPreloadStrategyIfNeed;
- (void)handleRefreshTLPicPreloadStrategyRsp:(id)a0;
- (void)onRefreshStrategyFinish:(BOOL)a0;
- (void)tryPreloadTLPicIfNeed:(unsigned int)a0;
- (void)onAfterSyncGap;
- (void)startDownloadPicTask;
- (void)onAfterDownloadPicGap;
- (void)onPreloadFinish;
- (BOOL)isPicPreloadSwitchOpen:(unsigned int)a0;
- (void)resetPicPreloadState;
- (void)reportWithScene:(unsigned int)a0;
- (id)getNotificationBySvrId:(unsigned long long)a0 chatName:(id)a1;
- (void)initBSNotifyCacheDataForFlutter;
- (id)extractUniqueUserNamesFromNotifyData:(id)a0;
- (id)getContactByUsername:(id)a0;
- (void)fillBSContactInfo:(void *)a0 fromCContact:(id)a1;
- (BOOL)hasMainSessionRedDot;
- (void)clearMainSessionRedDot;
- (id)lastMessageFromMainSessionCache;
- (id)affSessionBoxInfoFromMainSessionCache;
- (unsigned int)unreadCountFromMainSessionCache;
- (id)getMainSessionExposeItem;
- (void)innerNotifyDeletedMainSessionCache;
- (void)onUpdateMainSession;
- (void)onUpdateMainSessionImmediately;
- (void)onUpdateMainSessionByModifyContactIfNeed:(id)a0;
- (void)onUpdateMainSessionByDelBrandSession:(id)a0;
- (void)onUpdateMainSessionByDelMsg:(id)a0 msgWrap:(id)a1;
- (void)onUpdateMainSessionByFinishMigration;
- (BOOL)hasDeleteSessionBox;
- (void)markHasDeleteSessionBox:(BOOL)a0;
- (BOOL)isMainSessionCacheValid;
- (id)pathForMainSessionCache;
- (void)saveMainSessionCache;
- (void)tryLoadMainSessionCache;
- (void)rebuildMainSessionCacheFromDB;
- (void)updateMainSessionCache;
- (void)updateMainSessionLatestMsgWithSessionBoxInfo:(id)a0;
- (void)clearMainSessionCacheRedDot;
- (BOOL)needShowUnreadCountOnMainSession;
- (unsigned int)getUnreadArticleCnt;
- (unsigned int)getLastBoxTime;
- (id)genMainFrameSessionInfo;
- (id)genDefaultMainFrameSessionInfo;
- (BOOL)shouldShowNewNotifyMsgCount:(id)a0;
- (void)addBrandSessionHolderToSessionList;
- (void)onMainSessionExpose:(id)a0 isExpose:(BOOL)a1 rowIndex:(unsigned int)a2;
- (void)onMainSessionClick:(id)a0 rowIndex:(unsigned int)a1;
- (void)onMainSessionTabSelect;
- (void)handleMainSessionExposeWithMsg:(id)a0 rowIndex:(unsigned int)a1 sessionInfo:(id)a2;
- (void)handleMainSessionDisappearWithMsg:(id)a0 rowIndex:(unsigned int)a1 sessionInfo:(id)a2;
- (void)workThread_reportAndUpdateExposeItem:(id)a0 isExpose:(BOOL)a1;
- (id)genKeyForSessionInfo:(id)a0;
- (void)onRebuildSessionStorage;
- (void)onHideSessionWithUserName:(id)a0;
- (void)onImportMessageSuccess;
- (BOOL)isUserShouldHandled:(id)a0;
- (BOOL)isMessageShouldHandled:(id)a0;
- (id)isUserHasSpecalSessionInfo:(id)a0;
- (void)refreshServiceTriggerToRefresh:(id)a0;
- (void)__innerAddOrUpdateMainSession:(BOOL)a0;
- (void)reportMainSessionMsgExpose:(id)a0 exposeItem:(id)a1 isExposed:(BOOL)a2;
- (id)fullFillMainSessionMsg:(id)a0 sessionInfoNotifyType:(unsigned int)a1;
- (void)reportRedDotExposeIfNeeded:(id)a0 exposeItem:(id)a1;
- (void)aggregateRedDotSessionInfo:(id)a0 actType:(unsigned int)a1;
- (id)makeRedDotReportItem:(id)a0 actType:(unsigned int)a1;
- (id)getExptConfig;
- (BOOL)isExptNotShowFinderLiveBar;
- (BOOL)isExptNotShowAd;
- (BOOL)isFlutterAff;
- (BOOL)isFlutterAffSupportAd;
- (BOOL)openEcsTLMagicCard;
- (BOOL)openEcsTLSubscribeMagicCard;
- (void)onFlutterExptStrategyRespUpdate;
- (id)genExptConfig;
- (BOOL)__getShowDynamicCard;
- (BOOL)__getShowDynamicCardToast;
- (unsigned int)__getExptShowCardOption;
- (BOOL)__getCanUseDiffList;
- (unsigned long long)__getResortSceneBitSwitch;
- (void)onServiceInitInCategoryFlutter;
- (void)checkInitAffEnvironment;
- (void)scheduleNotification;
- (unsigned int)configAbstractType;
- (void)subscribeEvent;
- (void)unsubscribeEvent;
- (void)onServiceClearDataInCategoryFlutter;
- (void)onServiceEnterForegroundInCategoryFlutter;
- (BOOL)isPreloadFlutterInstanceEnable;
- (void)preloadFlutterInstanceIfNeed;
- (void)__realPreloadFlutterInstanceIfNeed:(id)a0;
- (id)createFlutterInstanceWithExptConfig:(id)a0;
- (id)createFlutterInstanceWithExptConfig:(id)a0 route:(id)a1;
- (id)__innerCreateFlutterInstanceWithExptConfig:(id)a0 route:(id)a1;
- (void)onTimeUpReleasePreloadFlutterInstance;
- (void)releasePreloadFlutterInstance:(unsigned int)a0;
- (void)__initAffSwitch;
- (BOOL)__getCurAffSwitch;
- (void)resetAffData;
- (unsigned int)flutterVCCacheTime;
- (void)onNotifyAffTLPageInit;
- (void)onNotifyAffTLPageDealloc;
- (void)onNotifyAffEnterTLWithDigestMsgId:(unsigned long long)a0;
- (void)onNotifyAffExitTL;
- (void)onNotifyAffInsertNewMsg:(id)a0;
- (void)onNotifyAffDeleteMsg:(id)a0;
- (void)onNotiftyAffDeleteUserName:(id)a0;
- (void)preloadMBCardWhenMainSessionExpose;
- (void)onNotifyMagicBrushMainSessionExpose;
- (BOOL)isXmlPushRecommendMsgForAff:(id)a0;
- (void)onXmlPushReceiveWithType:(id)a0 content:(id)a1;
- (void)onIDKeyEvent:(int)a0 key:(int)a1 value:(int)a2;
- (void)dealloc;
- (void)onServiceInit;
- (void)onServiceEnterForeground;
- (void)onServiceMemoryWarning;
- (void)onMainControllStart;
- (void)onServiceClearData;
- (void)checkIfNeedHandleMsg;
- (void)resetMappedKv;
- (BOOL)checkCGIBaseRespSuccess:(id)a0;
- (BOOL)isABTestOpen;
- (BOOL)isRecoFlowDisable;
- (unsigned int)sectionGapToPreload;
- (BOOL)showRecReplaceButton;
- (BOOL)finderLiveAutoPlayEnable;
- (BOOL)hideSearchBarWhenEnter;
- (BOOL)shouldHideSearchEntrance;
- (BOOL)showRedPacketCover;
- (BOOL)canEnterBrandFlowList;
- (BOOL)canBrandTimelineVideoItemAutoPlay;
- (BOOL)canBrandTimelineVideoItemAutoPlayByNetworkStatus;
- (BOOL)enableFinderLiveDualCardAutoPlay;
- (BOOL)isProductEvaluationCardJumpFakeNativeWeApp;
- (unsigned int)getShouldShowFollowBarType;
- (unsigned int)getShouldShowRemainArticleType;
- (unsigned int)getShowNotifyTimelineDisplayType;
- (unsigned int)getShowNotifyTimelineDisplayCount;
- (unsigned int)getShowSubscribeTimelineDisplayCount;
- (unsigned int)getUnreadNotifyExpireSpecifiedTime;
- (void)updateNeedShowUnreadNotifyRedDotInTimeLine:(BOOL)a0;
- (BOOL)getIsNeedShowUnreadNotifyRedDotInTimeLine;
- (id)getEcsNewUiStrategyBuffer;
- (id)getCommentPageQueryString;
- (unsigned int)getRequestFrequencyTime;
- (unsigned int)getPoiReportFrequencyTime;
- (unsigned int)getReliableNotifyFrequencyTime;
- (BOOL)getCanAutoPlayLive;
- (unsigned int)getShowNotifyMsgKeepTime;
- (unsigned int)getRequestMassMsgCount;
- (unsigned int)getNotifyRequestFrequencyTime;
- (unsigned int)getNotifyMsgRequestFrequencyTime;
- (unsigned int)getMainTabRequestFrequencyTime;
- (id)getLocalEcsTimelineUiStrategyJsonString;
- (unsigned int)getDisplayMode;
- (void)setDisplayMode:(unsigned int)a0;
- (void)sendBizStrategyRequest:(BOOL)a0;
- (void)updateBrandEcsStrategy:(id)a0;
- (BOOL)checkHasUiStrategyChanged:(id)a0;
- (void)handleStrategyResp:(id)a0;
- (void)updateBSConfig;
- (void)handleUnfocusUser:(id)a0;
- (void)markCurTLMinExposeSequenceId:(unsigned long long)a0;
- (void)resetCurTLMinExposeSequenceId;
- (BOOL)canMsgTopRightUseRecReason;
- (void)onMsgDBInitFinish;
- (void)OnAddMsg:(id)a0 MsgWrap:(id)a1;
- (void)OnMsgNotAddDBNotify:(id)a0 MsgWrap:(id)a1;
- (void)handleNewMsg:(id)a0 msgWrap:(id)a1;
- (void)OnGetNewXmlMsg:(id)a0 Type:(id)a1 MsgWrap:(id)a2;
- (void)OnDelMsg:(id)a0 MsgWrap:(id)a1;
- (void)OnDelMsg:(id)a0 DelAll:(BOOL)a1;
- (void)onFinishMigrate;
- (void)onDeleteContact:(id)a0;
- (void)onModifyContact:(id)a0;
- (void)MessageReturn:(id)a0 Event:(unsigned int)a1;
- (void)onDeleteSessionOfUser:(id)a0;
- (void)clearNotifyCache;
- (BOOL)getIsAllowBSUseNotifyMemoryCache;
- (void)onSessionChanged:(id)a0;
- (void)onSessionUnreadCountChanged:(id)a0 prevUnreadCount:(long long)a1;
- (void)onBrandLivingStatusChange:(id)a0 isLiving:(BOOL)a1 finderFeedExportId:(id)a2;
- (id)getFinderDataItemWithExportId:(id)a0;
- (void)registerFinderDataItemWithExportId:(id)a0 finderDataItem:(id)a1;
- (void)unregisterExportId:(id)a0;
- (void)onGetBizId1:(long long)a0 data:(id)a1;
- (void).cxx_destruct;

@end
