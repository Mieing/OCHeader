@class NSMutableDictionary, TIMXOConversationsDataSource, NSDictionary, NSObject, NSMutableArray, NSString, TIMXSDKInstance, NSHashTable, IESIMUnreadCountReportFilterManager, NSMutableSet, TIMXGCDTimer, NSNumber, IESIMChatDataManagerConfig, NSLock;
@protocol IESIMChatDataManagerDataSource, IESIMLoginManagerProtocol, OS_dispatch_semaphore, OS_dispatch_queue, IESIMChatDataManagerColdStartDelegate;

@interface IESIMChatDataManager : NSObject <TIMXOConversationsDataSourceDelegate, TIMXOChangeObserverDelegate, TIMXPullerStatusChangeObserverDelegate, IESIMConversationFilterMessage, IESIMTIMXLifeMessage, TIMXOSendMessageProcessTraceUtilityDelegate, TIMXMessageStoreChangesObserver, IESIMChatDataManagerProtocol>

@property (weak) TIMXSDKInstance *sdkRoot;
@property (retain) TIMXOConversationsDataSource *conversationDataSource;
@property (retain, nonatomic) NSHashTable *delegates;
@property (retain, nonatomic) NSMutableDictionary *chatDict;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *conversationQueue;
@property long long currentSession;
@property BOOL appWillTerminate;
@property (copy, nonatomic) NSString *observerToken;
@property (copy, nonatomic) NSString *pullerObserverToken;
@property (nonatomic) BOOL isRequesting;
@property (nonatomic) double startRequestTimestamp;
@property (copy, nonatomic) id /* block */ loadRemainSessionsCompletion;
@property (nonatomic) BOOL hasKickOffPuller;
@property (nonatomic) long long boxType;
@property (nonatomic) long long boxTypeMask;
@property (nonatomic) long long shouldNotContainedBoxTypeMask;
@property (nonatomic) long long unreadNeglectMask;
@property (nonatomic) BOOL containMaskZero;
@property (nonatomic) BOOL isForegorund;
@property (retain, nonatomic) IESIMUnreadCountReportFilterManager *unreadCountReportFilterManager;
@property (retain, nonatomic) NSMutableSet *filterMessageBaseLogIdsSet;
@property (retain, nonatomic) NSObject<OS_dispatch_semaphore> *filterMessageBaseLogIdsSetLock;
@property (retain, nonatomic) NSMutableSet *strangerNotifyIdentifierSet;
@property (retain, nonatomic) NSNumber *hasMoreLocal;
@property (retain, nonatomic) TIMXGCDTimer *timer;
@property (retain, nonatomic) NSMutableArray *batchUpdateChats;
@property (copy, nonatomic) id /* block */ shouldIgnoreUnreadcount;
@property (nonatomic) BOOL canUseOneSqlToInquireUnreadCount;
@property (retain) NSDictionary *loadFirstPageDurationInfo;
@property (retain, nonatomic) NSLock *delegateLock;
@property (copy, nonatomic) NSDictionary *appConvMaskDict;
@property (copy, nonatomic) NSDictionary *appConvShouldNotContainMaskDict;
@property (nonatomic) BOOL isFetchMessage;
@property (nonatomic) BOOL isFetchMessageForLiveConsult;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (retain, nonatomic) id<IESIMLoginManagerProtocol> loginManager;
@property (retain, nonatomic) IESIMChatDataManagerConfig *config;
@property (weak, nonatomic) id<IESIMChatDataManagerDataSource> dataSource;
@property (nonatomic) BOOL hasMore;
@property (readonly, nonatomic) BOOL hasMoreRemote;
@property (weak, nonatomic) id<IESIMChatDataManagerColdStartDelegate> coldStartDelegate;
@property (copy, nonatomic) id /* block */ notUpdateConversationTimeBlock;
@property (nonatomic) long long dataManagerType;
@property (nonatomic) BOOL shouldAddUnradCountToTotal;

- (void)onSilentMembers:(id)a0 silentStatus:(long long)a1 silentMembers:(id)a2 silentEndTime:(long long)a3 cmdMessageID:(id)a4;
- (void)onSilentConversation:(id)a0 silentStatus:(long long)a1 cmdMessageID:(id)a2;
- (void)newP2PMessageNotifyConversation:(id)a0 message:(id)a1;
- (void)setupWithConfig:(id)a0;
- (void)handleDidEnterBackgroundNotification:(id)a0;
- (long long)totalUnreadCount;
- (void)continueFetchPullWithCompletion:(id /* block */)a0;
- (void)fetchAllLocalConversationsInInboxes:(id)a0 beforeSortOrder:(long long)a1 conversationType:(unsigned long long)a2 pageCount:(unsigned long long)a3 completion:(id /* block */)a4;
- (void)handleWillEnterForegroundNotification:(id)a0;
- (void)loadSessions;
- (void)conversationDataSource:(id)a0 didUpdateWithUpdate:(id)a1 updateReason:(long long)a2;
- (void)conversationDataSource:(id)a0 didLoadAllConversations:(id)a1;
- (void)onConversationDataSourceMessagesDeleted:(id)a0 belongingConversationMap:(id)a1;
- (void)handleAppWillTerminateNotification:(id)a0;
- (void)p_addKVO;
- (void)forceCheckConversationListIntegrity;
- (long long)memberVersionForConversationID:(id)a0;
- (void)didStartOfflinePullWithSource:(long long)a0 forUser:(long long)a1 inbox:(int)a2;
- (void)didEndOfflinePullForUser:(long long)a0 inbox:(int)a1 pullerSource:(long long)a2 pullDirection:(unsigned long long)a3 error:(id)a4 hasMore:(BOOL)a5 userInfo:(id)a6;
- (long long)chatCount;
- (void)fetchMessagesInConversation:(id)a0 messageTypes:(id)a1 afterIndex:(long long)a2 limit:(unsigned long long)a3 completion:(id /* block */)a4;
- (void)fetchCreateConversationsInInbox:(int)a0 cursor:(long long)a1 conversationType:(unsigned long long)a2 sortType:(long long)a3 completion:(id /* block */)a4;
- (void)fetchAllConversationsInInbox:(int)a0 cursor:(long long)a1 conversationType:(unsigned long long)a2 pageCount:(unsigned long long)a3 completion:(id /* block */)a4;
- (void)iesim_timxInstanceMounted:(id)a0;
- (void)iesim_timxInstanceUnmounted:(id)a0;
- (void)p_fillPropertyFromCurrentSDKIfNecessary;
- (id)p_storedSDKRoot;
- (void)p_clearPropertyOfSDK;
- (id)p_storedSDKRoot_Nullable;
- (void)conversationsUpdated:(id)a0;
- (void)messageUpdated:(id)a0 inConversation:(id)a1 reason:(long long)a2;
- (void)didInsertNewMessagesWithMessageIdentifiers:(id)a0 belongingConversationMap:(id)a1 reason:(long long)a2 context:(id)a3;
- (void)didInsertNewStrangerMessagesWithMessageIdentifiers:(id)a0 belongingConversationMap:(id)a1 reason:(unsigned long long)a2 context:(id)a3;
- (void)onMessagesNewPropertiesUpdated:(id)a0 inConversation:(id)a1 messageOldPropertiesMap:(id)a2 messageNewPropertiesMap:(id)a3 reason:(long long)a4;
- (void)messageDeleted:(id)a0 inConversation:(id)a1 reason:(id)a2;
- (void)willHandleCommandMessages:(id)a0 insertReason:(long long)a1;
- (id)initWithBoxType:(long long)a0 boxTypeMask:(long long)a1 unreadNeglectMask:(long long)a2 containMaskZero:(BOOL)a3;
- (void)p_configUnreadCountIgnoreBlock;
- (void)p_notifyTotalUnreadCountUpdate:(long long)a0;
- (void)p_notifyTotalUnreadCountUpdate:(long long)a0 subscribeUnreadCountOnMute:(long long)a1;
- (void)p_asyncRunBlockWithValidSessionID:(long long)a0 inQueue:(id)a1 block:(id /* block */)a2;
- (void)p_notifyAnotherTotalUnreadCountUpdate:(long long)a0;
- (void)p_notifyTotalUnreadMentionUpdate:(long long)a0;
- (void)p_notifyAllUnreadCountUpdate:(long long)a0;
- (void)createConversationsDataSource;
- (void)p_bindSession:(long long)a0 toDataSource:(id)a1;
- (BOOL)p_shouldDisplayConversation:(id)a0 filterReason:(id *)a1;
- (id)p_currentUnreadCountCareConfig;
- (BOOL)p_isBehaviorSameAsGeneralBoxType:(long long)a0;
- (BOOL)p_canUseBoxMaskTypeToFilterWithBoxType:(long long)a0;
- (long long)p_sessionOfDataSource:(id)a0;
- (void)refreshDataSourceConversations:(id)a0;
- (void)fetchAllConversationsByLocalDBInInbox:(int)a0 beforeSortOrder:(long long)a1 conversationType:(unsigned long long)a2 pageCount:(unsigned long long)a3 completion:(id /* block */)a4;
- (void)fetchJoinedConversationsInInbox:(int)a0 cursor:(long long)a1 conversationType:(unsigned long long)a2 sortType:(long long)a3 completion:(id /* block */)a4;
- (BOOL)enableFilterMessageEffectedBySwitchingBackgroundWithBoxType:(long long)a0;
- (void)p_registerProcessMessageDelegateIfNeeded:(id)a0;
- (BOOL)p_shouldDisplayConversation:(id)a0;
- (BOOL)p_isGroupMemberV2Enable;
- (BOOL)p_shouldDisplayConversationV2:(id)a0;
- (void)handleNotifyUpdateMonitorWithBaseLogId:(long long)a0;
- (BOOL)shouldRealFilterConversation:(id)a0;
- (void)p_msgLinkTrackerWithMsgs:(id)a0 reason:(long long)a1 filteredConversationMap:(id)a2 baseLogId:(long long)a3 context:(id)a4;
- (void)finishInsertMessageTaskWithContext:(id)a0 reason:(long long)a1;
- (void)syncRunBlock:(id /* block */)a0;
- (void)addBatchUpdateChats:(id)a0;
- (void)recordStrangerNotifyWithContext:(id)a0;
- (void)trackStrangerMsgLinkWithContext:(id)a0;
- (void)invalidConversationFilterResult:(id)a0;
- (void)iesim_invalidFilterCacheOfConversation:(id)a0;
- (BOOL)enableFilterMessageEffectedBySwitchingBackground;
- (void)addFilteredBaseLogIdIfNeeded:(id)a0;
- (void)removeFilteredBaseLogId:(id)a0;
- (void)p_performBatchChatsUpdate;
- (void)batchUpdateChatsTimerFired:(id)a0;
- (void)p_notifyChatsUpdated:(id)a0;
- (BOOL)shouldFilterConversation:(id)a0;
- (BOOL)p_isInvalidConversation:(id)a0;
- (void)handleAffectBySwitchingBackgroundMessageWithBaseLogId:(long long)a0 isAffectBySwitchBackground:(BOOL *)a1 isForegorund:(BOOL *)a2;
- (void)appendNtpParamsWithMessage:(id)a0 params:(id)a1 senderIsAndroid:(BOOL)a2 senderIsOtherDeivce:(BOOL)a3;
- (void)appendDetailElapsedTimeDictWithContext:(id)a0 params:(id)a1 syncedExt:(id)a2 duration:(long long)a3 baseLogId:(long long)a4;
- (void)appendDurationDetailParamsWithContext:(id)a0 msg:(id)a1 params:(id)a2 sendTime:(long long)a3;
- (void)trackStrangerMsgLinkCore:(id)a0 sendTime:(long long)a1 senderIsAndroid:(BOOL)a2 senderIsOtherDevice:(BOOL)a3;
- (void)conversationDataSource:(id)a0 totalUnreadCountFirstCaculatedWithMonitorArray:(id)a1 boxType:(long long)a2;
- (long long)conversationDataSource:(id)a0 compareConversationA:(id)a1 withConversationB:(id)a2;
- (BOOL)conversationDataSourceNeedUpdateSortOrder:(id)a0;
- (void)conversationDataSource:(id)a0 didEndUpdateSortOrderWithMonitor:(id)a1 error:(id)a2;
- (void)conversationDataSource:(id)a0 didEndUpdateSortOrderWithUpdateFailedConvsArr:(id)a1;
- (BOOL)conversationDataSource:(id)a0 shouldShowConversation:(id)a1;
- (long long)conversationDataSource:(id)a0 customUnreadCountForConversation:(id)a1;
- (long long)conversationDataSource:(id)a0 anotherUnreadCountForConversation:(id)a1;
- (BOOL)conversationDataSource:(id)a0 shouldIgnoreUnreadCountForConversation:(id)a1;
- (void)conversationDataSource:(id)a0 unreadCountV2Update:(int)a1;
- (void)conversationDataSource:(id)a0 unreadMentionedCountV2Update:(int)a1;
- (void)onConversationDataSourceConversationsDeleted:(id)a0;
- (void)onConversationDataSourceMessagesCreated:(id)a0 belongingConversationMap:(id)a1 reason:(id)a2;
- (void)onConversationDataSourceMessagesUpdated:(id)a0 belongingConversationMap:(id)a1;
- (void)onConversationDataSourceConversationCleared:(id)a0;
- (void)onBoxTypeConvUpdatedWithBoxType:(long long)a0;
- (BOOL)conversationDataSource:(id)a0 shouldIgnoreFilterCacheWithConversation:(id)a1;
- (void)didStartInstallInitForUser:(long long)a0 inbox:(int)a1 pullerType:(long long)a2;
- (void)didEndInstallInitForUser:(long long)a0 inbox:(int)a1 pullerType:(long long)a2;
- (void)didStartPullForUser:(long long)a0 inbox:(int)a1 pullerType:(long long)a2;
- (void)didEndPullForUser:(long long)a0 inbox:(int)a1 pullerType:(long long)a2 pullDirection:(unsigned long long)a3 error:(id)a4 hasMore:(BOOL)a5 userInfo:(id)a6;
- (void)didStartPullForUser:(long long)a0 inbox:(int)a1 pullerType:(long long)a2 source:(long long)a3 pullReason:(long long)a4;
- (void)didStartPullStrangerOfflineMsgsWithContext:(id)a0;
- (void)didEndPullStrangerOfflineMsgsWithError:(id)a0 hasMore:(BOOL)a1 userInfo:(id)a2;
- (void)didEndInsertStrangerOfflineMsgsWithError:(id)a0 userInfo:(id)a1;
- (void)timx_messageTrack:(id)a0 willHandleMessageWithBaseLogId:(id)a1;
- (void)timx_messageTrack:(id)a0 willIgnoreMessageWithBaseLogId:(id)a1;
- (void)onParticipantsInConversationChanged:(id)a0 context:(id)a1;
- (void)loadRemainSessionsWithCompletion:(id /* block */)a0;
- (void)deleteConversation:(id)a0 completion:(id /* block */)a1;
- (id)chatForIdentifier:(id)a0;
- (id)initWithBoxType:(long long)a0;
- (id)initWithBoxType:(long long)a0 boxTypeMask:(long long)a1 unreadNeglectMask:(long long)a2;
- (void)p_notifyFinishUpgradeForGroup;
- (void)p_notifyChatUpdated:(id)a0;
- (BOOL)conversationDatasource:(id)a0 shouldIgnoreUnreadCountForConversationID:(id)a1;
- (void)didBecomeActive;
- (void)addDelegate:(id)a0;
- (void)removeDelegate:(id)a0;
- (void).cxx_destruct;
- (void)clear;
- (void)dealloc;
- (void)_startTimerIfNeeded;
- (void)p_removeObservers;
- (void)p_addObservers;

@end
