@class IESSoloKTVMidiViewConfig, IESSCMetalRenderParams, IESSCMetalTransformFilter, IESSCMetalMidiCreator, IESSCMetalImage, IESSoloKTVAudioRecordMidiScoreOCModel, NSObject, NSMutableArray, IESSoloKTVDrawCGImpl, IESSCMetalMidiRectCreator, IESSCMetalAlphaFilter;
@protocol OS_dispatch_queue;

@interface IESSoloKTVMidiRender : NSObject {
    double currentLevelAlpha;
    double currentLevelScale;
    double currentScore;
    double currentScoreScale;
}

@property (retain, nonatomic) IESSoloKTVDrawCGImpl *asyncDraw;
@property (retain, nonatomic) NSMutableArray *cellData;
@property (retain, nonatomic) NSMutableArray *lyricInfos;
@property (retain, nonatomic) IESSoloKTVMidiViewConfig *config;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *queue;
@property (nonatomic) double playingTime;
@property (nonatomic) int preResultIndex;
@property (nonatomic) int lyricStartOffset;
@property (nonatomic) double scale;
@property (nonatomic) struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } viewFrame;
@property (nonatomic) struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } midiViewFrame;
@property (nonatomic) struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } scoreViewFrame;
@property (retain, nonatomic) NSMutableArray *midiAnimationData;
@property (retain, nonatomic) NSMutableArray *restoreAnimationData;
@property (nonatomic) struct _NSRange { unsigned long long location; unsigned long long length; } currentRange;
@property (nonatomic) double currentOffsetX;
@property (nonatomic) double currentOffsetY;
@property (nonatomic) double pitchHeight;
@property (nonatomic) double maxPitch;
@property (nonatomic) double minPitch;
@property (nonatomic) double currentPitchForArrow;
@property (nonatomic) double preScore;
@property (nonatomic) double nowScore;
@property (nonatomic) double currentScoreKey;
@property (nonatomic) double currentScoreScaleKey;
@property (nonatomic) BOOL isPitch;
@property (nonatomic) int maxPerfectCount;
@property (nonatomic) int perfectCount;
@property (nonatomic) int perfectCountKey;
@property (nonatomic) BOOL perfectHit;
@property (nonatomic) float scoreFactor;
@property (retain, nonatomic) IESSoloKTVAudioRecordMidiScoreOCModel *preScoreModel;
@property (nonatomic) struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } currentPitchFrame;
@property (nonatomic) float sentenceScoreSum;
@property (nonatomic) int sentenceScoreCount;
@property (nonatomic) double recordDelayWidth;
@property (retain, nonatomic) IESSCMetalImage *bottomImage;
@property (retain, nonatomic) IESSCMetalImage *arrowImage;
@property (retain, nonatomic) IESSCMetalImage *arrowTailImage;
@property (retain, nonatomic) IESSCMetalImage *redHotImage;
@property (retain, nonatomic) IESSCMetalImage *scoreRectImage;
@property (retain, nonatomic) IESSCMetalImage *scoreFocusRectImage;
@property (retain, nonatomic) IESSCMetalImage *niceLevelImage;
@property (retain, nonatomic) IESSCMetalImage *goodLevelImage;
@property (retain, nonatomic) IESSCMetalImage *perfectLevelImage;
@property (retain, nonatomic) IESSCMetalImage *superLevelImage;
@property (retain, nonatomic) IESSCMetalImage *superBottomImage;
@property (retain, nonatomic) IESSCMetalImage *superRectImage;
@property (retain, nonatomic) IESSCMetalImage *allScoreImage;
@property (retain, nonatomic) IESSCMetalImage *currentLevelImage;
@property (retain, nonatomic) IESSCMetalImage *currentLevelBottomImage;
@property (retain, nonatomic) IESSCMetalImage *currentSuperRectImage;
@property (retain, nonatomic) IESSCMetalImage *currentLevelCountImage;
@property (retain, nonatomic) IESSCMetalRenderParams *renderParams;
@property (nonatomic) struct CGSize { double width; double height; } renderSize;
@property (retain, nonatomic) IESSCMetalTransformFilter *transformFilter;
@property (retain, nonatomic) IESSCMetalAlphaFilter *alphaFilter;
@property (retain, nonatomic) IESSCMetalTransformFilter *transformBlendFilter;
@property (retain, nonatomic) IESSCMetalMidiCreator *midiCreator;
@property (retain, nonatomic) IESSCMetalMidiRectCreator *midiRectCreator;
@property (retain, nonatomic) IESSCMetalImage *normalMidiCache;
@property (retain, nonatomic) IESSCMetalImage *focusMidiCache;
@property (retain, nonatomic) IESSCMetalImage *allMidiCache;
@property (nonatomic) int preStart;
@property (nonatomic) int preEnd;
@property (nonatomic) int prePitchCount;
@property (nonatomic) double preAlpha;
@property (nonatomic) double fps;
@property (nonatomic) BOOL enableBlend;

- (double)currentPlayingTime;
- (void)updateConfig:(id)a0;
- (double)currentFps;
- (void)updatePlayingTime:(double)a0;
- (void)updateMidiScore:(id)a0;
- (struct CGAffineTransform { double x0; double x1; double x2; double x3; double x4; double x5; })imageRectConvertToTransform:(struct CGSize { double x0; double x1; })a0 imageRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a1;
- (double)midiViewHeight;
- (void)updateRecordDelayTime:(double)a0;
- (void)cleanUserRecord;
- (void)animationGoToEnd;
- (void)animationAction:(double)a0;
- (id)getImageTexture;
- (void)updateAllFrame:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0;
- (void)updateMidiModel:(id)a0 lyrics:(id)a1 completion:(id /* block */)a2;
- (void)privateClean;
- (float)calcArrowTailAlpha;
- (void)drawBottomImage:(id)a0;
- (void)drawRedHotRect:(id)a0 alpha:(float)a1;
- (void)drawMidi:(id)a0;
- (void)drawArrowMidi:(id)a0 alpha:(float)a1;
- (void)drawScoreMidi:(id)a0;
- (void)drawLevelMidi:(id)a0;
- (void)initMidiData:(id)a0;
- (void)initRowScoreData:(id)a0;
- (void)preDrawAllImage;
- (void)cleanMidiRecordFrom:(double)a0 to:(double)a1;
- (struct _NSRange { unsigned long long x0; unsigned long long x1; })findMidiItemWithRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })a0 startX:(int)a1;
- (void)updatePitchForArrow:(id)a0 model:(id)a1 isPitch:(BOOL)a2;
- (void)updateAvgScore:(id)a0;
- (void)updatePitch:(double)a0 isPitch:(BOOL)a1 pitchChanged:(BOOL)a2;
- (void)calcLevelAnimation:(id)a0;
- (void)addScoreChangeAnimationIfNeed;
- (void)addScoreChangedAnimation:(double)a0 startScore:(double)a1 endScore:(double)a2;
- (void)addScoreScaleAnimation:(double)a0 startScale:(double)a1 endScale:(double)a2 backToStart:(BOOL)a3;
- (void)createLevelCountImage:(int)a0;
- (void)addLevelAnimationIfNeed:(id)a0 countChanged:(BOOL)a1;
- (void)addLevelAlphaAnimation:(id)a0 bottomImage:(id)a1 countImage:(id)a2 duration:(double)a3 startAlpha:(double)a4 endAlpha:(double)a5 backToStart:(BOOL)a6 keepTime:(double)a7;
- (void)addLevelScaleAnimation:(double)a0 startScale:(double)a1 endScale:(double)a2 backToStart:(BOOL)a3;
- (void)renderImage:(id)a0 transform:(struct CGAffineTransform { double x0; double x1; double x2; double x3; double x4; double x5; })a1 targetImage:(id)a2 params:(id)a3 blend:(BOOL)a4;
- (id)renderImage:(id)a0 alpha:(double)a1;
- (void)updateMidiCache:(int)a0 end:(int)a1 minX:(double)a2 maxX:(double)a3 updateNormal:(BOOL)a4 updateFocus:(BOOL)a5;
- (void)drawLastFocusMidi:(id)a0 model:(id)a1 startX:(double)a2;
- (id)normalMidiRect:(struct CGSize { double x0; double x1; })a0 start:(int)a1 end:(int)a2 startX:(double)a3;
- (id)renderMidi:(struct CGSize { double x0; double x1; })a0 sColor:(id)a1 eColor:(id)a2 rects:(id)a3 corner:(float)a4;
- (id)focusMidiRect:(struct CGSize { double x0; double x1; })a0 start:(int)a1 end:(int)a2 startX:(double)a3;
- (id)renderMidiRect:(struct CGSize { double x0; double x1; })a0 sColor:(id)a1 eColor:(id)a2 corner:(float)a3;
- (BOOL)enableScoreFocus;
- (void)preDrawBackgroudBottomImage;
- (void)levelAlphaAnimationAction:(id)a0 costFrame:(int)a1;
- (void)levelScaleAnimationAction:(id)a0 costFrame:(int)a1;
- (void)scoreChangeAnimationAction:(id)a0 costFrame:(int)a1;
- (void)scoreScaleAnimationAction:(id)a0 costFrame:(int)a1;
- (double)sentenceScore;
- (void).cxx_destruct;
- (id)init;
- (void)dealloc;
- (void)initData;
- (void)clean;

@end
