@class CachalotListViewPreRenderHelper, NSMapTable, CachalotMainLoopIdleTaskManager, CachalotMessageCenter, CachalotContext, CachalotFeedEngineViewModel, CachalotErrorMonitor, CachalotStructUpdateService, CachalotListViewPreCreateHelper, CachalotUniversalComponentReusePool, NSMutableArray, CachalotPercentageShowCallbackHelper, NSHashTable, CachalotCollectionView, CachalotAsyncTaskSerialController, NSString;
@protocol CachalotMessageDeliverer, CachalotEngineDelegate;

@interface CachalotFeedEngine : NSObject <UICollectionViewDelegate, UICollectionViewDataSource, CachalotMessageHandler, CachalotListViewPreRenderHelperDelegate, CachalotListViewPreCreateHelperDelegate, CachalotStructUpdateServiceDelegate, CachalotAsyncTaskSerialControllerDelegate, CachalotCollectionViewLayoutDelegate, CachalotEngine> {
    struct _opaque_pthread_mutex_t { long long __sig; char __opaque[56]; } _collectionViewFramelock;
    struct _opaque_pthread_mutexattr_t { long long __sig; char __opaque[8]; } _collectionViewFramelockAttr;
}

@property (retain, nonatomic) CachalotCollectionView *collectionView;
@property (retain, nonatomic) CachalotFeedEngineViewModel *viewModel;
@property (retain, nonatomic) CachalotMessageCenter *messageCenter;
@property (weak, nonatomic) id<CachalotEngineDelegate> delegate;
@property (retain, nonatomic) NSMapTable *componentAndViewModelMap;
@property (retain, nonatomic) NSMapTable *viewModelAndComponentMap;
@property (retain, nonatomic) NSMutableArray *renderFailedLayouts;
@property (nonatomic) BOOL enableFilterDowngrade;
@property (nonatomic) BOOL notReturnToTopAfterRefresh;
@property (nonatomic) BOOL isReloading;
@property (nonatomic) BOOL isAppending;
@property (retain, nonatomic) CachalotErrorMonitor *errorMonitor;
@property (retain, nonatomic) CachalotStructUpdateService *structUpdateService;
@property (retain, nonatomic) CachalotListViewPreRenderHelper *preRenderHelper;
@property (retain, nonatomic) CachalotMainLoopIdleTaskManager *taskManager;
@property (retain, nonatomic) NSMapTable *preRenderCacheTable;
@property (retain, nonatomic) CachalotListViewPreCreateHelper *preCreateHelper;
@property (nonatomic) double lastMemoryWarningTS;
@property (nonatomic) double preRenderBackoffTime;
@property (retain, nonatomic) NSMutableArray *displayCacheBlocks;
@property (retain, nonatomic) NSMutableArray *endDisplayCacheBlocks;
@property (nonatomic) BOOL hackingDisplay;
@property (nonatomic) BOOL hackingEndDisplay;
@property (nonatomic) BOOL shouldShutdownPreRender;
@property (nonatomic) BOOL enableFullCasePreloadMore;
@property (nonatomic) BOOL partReloadFilterInvalidIndexPaths;
@property (nonatomic) BOOL disableCacheRenderException;
@property (nonatomic) BOOL checkComponentLegalReuse;
@property (nonatomic) BOOL optimizeComponentClearReuse;
@property (retain, nonatomic) NSHashTable *legalReuseComponents;
@property (retain, nonatomic) NSHashTable *illegalReuseComponents;
@property (retain, nonatomic) NSMapTable *showingRatioComponentTrackingMap;
@property (retain, nonatomic) CachalotPercentageShowCallbackHelper *showCallbackHelper;
@property (nonatomic) unsigned long long scrollStatus;
@property (nonatomic) BOOL disableUpdateScrollStatus;
@property (nonatomic) struct CGPoint { double x; double y; } lastContentOffset;
@property (nonatomic) BOOL isUserInteractionScroll;
@property (nonatomic) BOOL manualScrollingFlag;
@property (copy, nonatomic) id /* block */ manualScrollingCompletion;
@property (nonatomic) struct CGRect { struct CGPoint { double x; double y; } origin; struct CGSize { double width; double height; } size; } collectionViewFrame;
@property (copy, nonatomic) id /* block */ usageCallback;
@property (nonatomic) BOOL useUniversalReusePool;
@property (retain, nonatomic) CachalotUniversalComponentReusePool *reusePool;
@property (nonatomic) BOOL transactionPrepareUntilExecute;
@property (nonatomic) BOOL innerSerialPerformUIUpdates;
@property (retain, nonatomic) CachalotAsyncTaskSerialController *uiUpdatesSerialController;
@property (nonatomic) BOOL fixAttachException;
@property (nonatomic) BOOL removeIdleTaskObserverWhenDealloc;
@property (nonatomic) BOOL dataSourceChangeInsideBatchUpdates;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (nonatomic) BOOL active;
@property (readonly, nonatomic, getter=isLoadmoreFooterAlreadyExist) BOOL loadmoreFooterAlreadyExist;
@property (retain, nonatomic) CachalotContext *engineContext;
@property (readonly, nonatomic) id<CachalotMessageDeliverer> messageDeliverer;
@property (readonly, nonatomic) CachalotMainLoopIdleTaskManager *mainIdleTaskManager;

+ (void)archiveWithRootViewModel:(id)a0 completion:(id /* block */)a1;
+ (void)unarchiveWithData:(id)a0 unarchiveClasses:(id)a1 completion:(id /* block */)a2;
+ (id)copyTree:(id)a0;
+ (void)preOrderTraverse:(id)a0 traverseBlock:(id /* block */)a1 onlyLeafNode:(BOOL)a2;
+ (id)leafViewModelsOfRoot:(id)a0;

- (void)setBanDataSourceTreeCopyWhenRender:(BOOL)a0;
- (void)setUseLayoutIfNeededMode:(BOOL)a0;
- (void)setEnableFixIOS17ReloadData:(BOOL)a0;
- (void)setSafePerformBatchUpdates:(BOOL)a0;
- (void)setUseSerialOperationMode:(BOOL)a0;
- (void)setUseNewUpdateHeightTransaction:(BOOL)a0;
- (void)setForceLayoutAfterPerformBatchUpdates:(BOOL)a0;
- (void)setForceLayoutAfterReloadWhenNilWindow:(BOOL)a0;
- (void)cachalot_collectionViewDidLayoutSubviews:(id)a0;
- (BOOL)isLockingContentOffset;
- (struct CGPoint { double x0; double x1; })cachalot_collectionViewcBeforeSetContentOffset:(struct CGPoint { double x0; double x1; })a0 animated:(BOOL)a1;
- (void)enableAdjustContentSize:(BOOL)a0;
- (void)enableContentSizeAdjustLessThanCardRequired:(BOOL)a0;
- (void)updateClipToViewModel:(id)a0 hidingOffest:(double)a1;
- (void)updateOffsetStickViewModel:(id)a0 stickOffsetToOriginY:(double)a1;
- (void)enableAdjustContentOffset:(BOOL)a0;
- (void)updateLockingContentOffsetValue:(id)a0;
- (void)updateLockingViewModel:(id)a0;
- (void)unlockContentOffset;
- (void)enableHandleBeforeSetContentOffset:(BOOL)a0;
- (BOOL)adjustContentSizeWithLockingValue;
- (BOOL)adjustContentOffsetWithLockingValue;
- (id)lockingContentOffsetValue;
- (id)lockingViewModel;
- (id)p_preCreateWithViewModel:(id)a0;
- (void)tryHandleMemoryWarning:(id)a0;
- (id)p_getAttachedComponentForCell:(id)a0;
- (void)p_triggerPreloadmoreIfNeeded;
- (void)p_updateInnerPreRenderShutdown;
- (void)refreshWithModel:(id)a0 finalViewModelsReadyBlock:(id /* block */)a1 completion:(id /* block */)a2;
- (void)refreshWithModel:(id)a0 animated:(BOOL)a1 finalViewModelsReadyBlock:(id /* block */)a2 completion:(id /* block */)a3;
- (void)p_commonBusinessBeforeReload;
- (void)p_commonBusinessAfterReload;
- (void)p_removeRenderFailedCardsIfNeeded:(id /* block */)a0;
- (void)p_scheduleReloadData:(id /* block */)a0 animated:(BOOL)a1;
- (void)refreshWithViewModel:(id)a0 finalViewModelsReadyBlock:(id /* block */)a1 completion:(id /* block */)a2;
- (void)refreshWithViewModel:(id)a0 finalViewModelsReadyBlock:(id /* block */)a1 flushAfter:(BOOL)a2 completion:(id /* block */)a3;
- (void)refreshWithViewModel:(id)a0 finalViewModelsReadyBlock:(id /* block */)a1 flushAfter:(BOOL)a2 animated:(BOOL)a3 completion:(id /* block */)a4;
- (id)fetchComponentWithIndex:(long long)a0;
- (id)p_preLayoutIdentifierWithLayoutModel:(id)a0;
- (long long)indexOfDataModel:(id)a0;
- (id)fetchComponentViewModelOfComponent:(id)a0;
- (void)p_triggerGraduateLoadIfNeeded:(unsigned long long)a0;
- (void)p_schedulePerformBatchUpdates:(id /* block */)a0 animated:(BOOL)a1 completion:(id /* block */)a2;
- (void)appendWithModel:(id)a0 finalViewModelsReadyBlock:(id /* block */)a1 completion:(id /* block */)a2;
- (void)appendWithViewModel:(id)a0 finalViewModelsReadyBlock:(id /* block */)a1 completion:(id /* block */)a2;
- (void)appendWithViewModel:(id)a0 finalViewModelsReadyBlock:(id /* block */)a1 flushAfter:(BOOL)a2 completion:(id /* block */)a3;
- (void)clearDataWithCompletion:(id /* block */)a0 animated:(BOOL)a1;
- (void)clearDataWithCompletion:(id /* block */)a0;
- (void)deleteNodeForIndexPaths:(id)a0 completion:(id /* block */)a1;
- (id)nodeViewModelWithRawJSON:(id)a0 allowInvalid:(BOOL)a1;
- (void)p_partReloadCollectionViewLayoutWithReloadIndexPaths:(id)a0 completion:(id /* block */)a1;
- (void)p_reloadCollectionViewLayoutWithCompletion:(id /* block */)a0;
- (void)refreshComponentHeight:(id)a0 invalidateAllLayout:(BOOL)a1 completion:(id /* block */)a2;
- (void)flush:(id /* block */)a0 animated:(BOOL)a1;
- (void)reCalculateAndFlush:(id /* block */)a0 animated:(BOOL)a1;
- (void)p_flushCollectionViewWithInsertIndexPaths:(id)a0 andRemoveIndexPaths:(id)a1 animated:(BOOL)a2 completion:(id /* block */)a3;
- (void)p_schedulePerformBatchUpdates:(id /* block */)a0 completion:(id /* block */)a1;
- (void)scrollToContentOffset:(struct CGPoint { double x0; double x1; })a0 animated:(BOOL)a1 completion:(id /* block */)a2;
- (void)scrollToContentOffset:(struct CGPoint { double x0; double x1; })a0 animated:(BOOL)a1 invalidateLayout:(BOOL)a2 completion:(id /* block */)a3;
- (void)scrollToViewModel:(id)a0 scrollPositionType:(unsigned long long)a1 animated:(BOOL)a2 completion:(id /* block */)a3;
- (void)p_cancelAndClearPreRender;
- (BOOL)p_allowUniversalReusePoolWithViewModel:(id)a0;
- (unsigned long long)p_attachComponentToPool:(id)a0 withViewModel:(id)a1;
- (unsigned long long)p_removeComponentFromPool:(id)a0 withViewModel:(id)a1;
- (BOOL)p_checkComponentExistenceWithViewModel:(id)a0;
- (id)visibleComponents;
- (id)p_provideCellAtIndexPath:(id)a0;
- (id)p_fetchComponentFromPoolWithViewModel:(id)a0;
- (id)p_provideComponentWithNode:(id)a0;
- (id)p_provideCellAtIndexPath:(id)a0 usePreRenderCache:(BOOL)a1;
- (BOOL)p_enablePreRender;
- (id)p_getAttachedComponentForCell:(id)a0 checkLegalReuse:(BOOL)a1;
- (void)p_handleComponentBecomeUnused:(id)a0 onCell:(id)a1 withViewModel:(id)a2;
- (id)p_provideComponentAtIndexPath:(id)a0 isPreRender:(BOOL)a1;
- (void)p_handleCollectionView:(id)a0 willDisplayCell:(id)a1 forItemAtIndexPath:(id)a2;
- (void)p_handleCollectionView:(id)a0 didEndDisplayingCell:(id)a1 forItemAtIndexPath:(id)a2;
- (id)fetchComponentViewModelAtIndex:(long long)a0;
- (void)p_preRenderAtIndex:(long long)a0;
- (void)p_updateInnerPreRenderShutdown:(BOOL)a0;
- (void)p_checkComponentShowingRatio;
- (void)p_updateHeaderIgnoreInsetTop;
- (id)squashedViewModelsOfParentViewModel:(id)a0;
- (void)reBindComponentWithViewModels:(id)a0 completion:(id /* block */)a1;
- (void)p_handleRebindAndUpdateHeightForTransaction:(id)a0 completion:(id /* block */)a1;
- (void)diffFlushAnimated:(BOOL)a0 completion:(id /* block */)a1;
- (void)replaceLayoutOfNode:(id)a0 withGenerator:(id /* block */)a1 copyLayoutInfo:(BOOL)a2;
- (void)replaceAllLayoutOf:(id)a0 withGenerator:(id /* block */)a1 copyLayoutInfo:(BOOL)a2;
- (id)currentRootViewModel;
- (void)forceLayout:(id /* block */)a0;
- (void)archiveWithRootViewModel:(id)a0 completion:(id /* block */)a1;
- (void)unarchiveWithData:(id)a0 unarchiveClasses:(id)a1 completion:(id /* block */)a2;
- (id)copyTree:(id)a0;
- (void)stuffContextForViewModel:(id)a0;
- (void)refreshWithModel:(id)a0 completion:(id /* block */)a1;
- (void)appendWithModel:(id)a0 completion:(id /* block */)a1;
- (void)refreshWithViewModel:(id)a0 completion:(id /* block */)a1;
- (void)appendWithViewModel:(id)a0 completion:(id /* block */)a1;
- (void)setNeedsLoadmore:(BOOL)a0;
- (void)setLoadmoreFooter:(id)a0;
- (void)setRefreshHeader:(id)a0;
- (void)deleteComponents:(id)a0 completion:(id /* block */)a1;
- (void)refreshComponentHeightAtIndex:(long long)a0 completion:(id /* block */)a1;
- (void)refreshComponentHeight:(id)a0 completion:(id /* block */)a1;
- (id)fetchPossibleComponentWithViewModel:(id)a0;
- (id)createComponentWithViewModelWithoutCache:(id)a0;
- (id)fetchComponentOfComponentViewModel:(id)a0;
- (id)nodeViewModelWithRawJSON:(id)a0;
- (id)mergeViewModel:(id)a0 withViewModel:(id)a1;
- (id)transformLeafsStructure:(id)a0 toNewForm:(id)a1 withPredicate:(id /* block */)a2;
- (void)reCalculateAndFlush:(id /* block */)a0;
- (void)performUpdateOperations:(id /* block */)a0 completion:(id /* block */)a1;
- (void)scrollToContentOffset:(struct CGPoint { double x0; double x1; })a0 animated:(BOOL)a1 invalidateLayout:(BOOL)a2;
- (void)scrollToViewModel:(id)a0 scrollPositionType:(unsigned long long)a1 animated:(BOOL)a2;
- (void)forceMeasureAndLayout:(id /* block */)a0;
- (void)beginHackContentDisplay;
- (id)endHackContentDisplay;
- (void)beginHackContentEndDisplay;
- (id)endHackContentEndDisplay;
- (void)pageViewWillAppear:(BOOL)a0;
- (void)pageViewDidAppear:(BOOL)a0;
- (void)pageViewWillDisappear:(BOOL)a0;
- (void)pageViewDidDisappear:(BOOL)a0;
- (id)getUpdateService;
- (void)markCurrentComponentIllegalReuse;
- (unsigned long long)addToPool:(id)a0 withViewModel:(id)a1;
- (unsigned long long)removeFromPool:(id)a0 withViewModel:(id)a1;
- (BOOL)checkComponentExistInPool:(id)a0;
- (void)setFeedBackgroundColor:(id)a0;
- (void)setEnableScroll:(BOOL)a0;
- (void)clearPreRenderCache;
- (void)setPreRenderEnabled:(BOOL)a0;
- (void)setBlockAutoPreRenderStrategy:(BOOL)a0;
- (void)manualPreRenderViewModels:(id)a0;
- (BOOL)checkPreRenderHasCacheForViewModel:(id)a0;
- (void)setPreRenderMemoryWarningBackOffTime:(double)a0;
- (void)setPreRenderUsageCallback:(id /* block */)a0;
- (void)configPreCreateWithViewModels:(id)a0;
- (void)setEnableAutoPreloadmore:(BOOL)a0;
- (void)setUniversalReusePoolGlobalCountLimit:(id)a0 detailCountLimitConfig:(id)a1;
- (void)setDisableCatchRenderException:(BOOL)a0;
- (void)setSubQueueProcess:(BOOL)a0;
- (void)registerDefaultLayoutType:(unsigned long long)a0;
- (void)registerLayout:(id /* block */)a0 toLayoutType:(long long)a1;
- (id)currentLeafComponentViewModels;
- (void)setConcurrentModelParseTimeout:(double)a0;
- (void)setAnalyserFixParentMissing:(BOOL)a0;
- (void)setSerialOperationExpireDuration:(id)a0;
- (void)setPreloadmoreHeightMargin:(double)a0;
- (id)getLayoutWithType:(unsigned long long)a0;
- (void)setSyncAtMainThread:(BOOL)a0;
- (void)setForceInvalidateLayoutChange:(BOOL)a0;
- (unsigned long long)measureLayoutModel:(id)a0 finalLayoutsReadyBlock:(id /* block */)a1;
- (void)preOrderTraverseNode:(id)a0 withBlock:(id /* block */)a1 onlyLeafNode:(BOOL)a2;
- (id)allRenderableLayoutsOfParent:(id)a0;
- (void)preOrderTraverseNode:(id /* block */)a0 onlyLeafNode:(BOOL)a1;
- (void)setConcurrentSizeMeasure:(BOOL)a0;
- (void)removeAllForwardingNodeForRoot:(id)a0;
- (void)setConcurrentSizeMeasureTimeout:(double)a0;
- (void)setFixFilterUnrenderableIndexPaths:(BOOL)a0;
- (void)registerPipeline:(id)a0;
- (void)traverseNode:(id /* block */)a0;
- (void)commitTransaction:(id)a0 withResult:(id)a1 handleCompletion:(id /* block */)a2;
- (id)commitOnQueue;
- (void)onScreenTransactionTaskPerform:(id /* block */)a0;
- (BOOL)supportSerialOnScreenTransaction;
- (BOOL)delayTransactionPrepare;
- (void)handleMessage:(id)a0 callback:(id /* block */)a1;
- (void)setConcurrentBizModelParse:(BOOL)a0;
- (void)setConcurrentRenderModelParse:(BOOL)a0;
- (void)controller:(id)a0 taskDidExecute:(id)a1 from:(double)a2 to:(double)a3;
- (id)fetchPreCreateComponentWithViewModel:(id)a0;
- (BOOL)checkPreCreateComponentExistenceWithViewModel:(id)a0;
- (void)storePreCreateComponent:(id)a0 withViewModel:(id)a1;
- (void)clearPreCreateConfigs;
- (void)triggerPreCreateImmediately;
- (void)scheduleSpareTimePreCreate;
- (void)cancelSpareTimePreCreate;
- (void)p_cancelPreRenderAtIndex:(long long)a0;
- (id)preRenderVisibleIndexes;
- (void)dropCacheIfNeeded:(id)a0;
- (BOOL)shouldPreRenderAtIndex:(long long)a0;
- (id)preRenderIdentifierAtIndex:(long long)a0;
- (void)executePreRenderAtIndex:(long long)a0;
- (void)cancelPreRenderAtIndex:(long long)a0;
- (void)setPreRenderCountBefore:(long long)a0;
- (void)setPreRenderCountAfter:(long long)a0;
- (void).cxx_destruct;
- (void)scrollViewDidEndDecelerating:(id)a0;
- (BOOL)scrollViewShouldScrollToTop:(id)a0;
- (void)collectionView:(id)a0 didEndDisplayingCell:(id)a1 forItemAtIndexPath:(id)a2;
- (void)scrollToContentOffset:(struct CGPoint { double x0; double x1; })a0 animated:(BOOL)a1;
- (id)init;
- (id)collectionView:(id)a0 cellForItemAtIndexPath:(id)a1;
- (long long)collectionView:(id)a0 numberOfItemsInSection:(long long)a1;
- (void)scrollViewWillBeginDragging:(id)a0;
- (void)scrollViewWillEndDragging:(id)a0 withVelocity:(struct CGPoint { double x0; double x1; })a1 targetContentOffset:(inout struct CGPoint { double x0; double x1; } *)a2;
- (void)collectionView:(id)a0 didSelectItemAtIndexPath:(id)a1;
- (long long)numberOfSectionsInCollectionView:(id)a0;
- (void)collectionView:(id)a0 willDisplayCell:(id)a1 forItemAtIndexPath:(id)a2;
- (void)scrollViewDidScroll:(id)a0;
- (id)containerView;
- (unsigned long long)numberOfComponents;
- (void)scrollViewDidEndDragging:(id)a0 willDecelerate:(BOOL)a1;
- (void)dealloc;
- (void)setContentInset:(struct UIEdgeInsets { double x0; double x1; double x2; double x3; })a0;
- (void)scrollViewDidEndScrollingAnimation:(id)a0;
- (void)flush:(id /* block */)a0;
- (id)indexPathsForVisibleItems;
- (void)lockContentOffset;
- (long long)indexOfComponent:(id)a0;
- (void)setContainerWidth:(double)a0;

@end
